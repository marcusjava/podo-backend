{"version":3,"sources":["redux/actions/consultActions.js","redux/actions/procedureActions.js","../node_modules/dayjs/plugin/utc.js","pages/Consult/EditConsult.js","components/consult/Table.js","../node_modules/react-bootstrap/esm/Badge.js","pages/Client/ClientDetail.js"],"names":["updateConsult","data","dispatch","type","FETCH_CONSULT_REQUEST","axios","put","_id","then","response","FETCH_CONSULT_SUCCESS","payload","toastr","success","consults","catch","error","FETCH_CONSULT_ERROR","message","query","FETCH_CONSULTS_REQUEST","get","params","FETCH_CONSULTS_SUCCESS","FETCH_CONSULTS_ERROR","saveProcedure","FETCH_PROCEDURE_REQUEST","post","FETCH_PROCEDURE_SUCCESS","FETCH_PROCEDURE_ERROR","updateProcedure","id","console","log","UPDATE_PROCEDURE_SUCCESS","Procedures","FETCH_PROCEDURES_REQUEST","FETCH_PROCEDURES_SUCCESS","FETCH_PROCEDURES_ERROR","module","exports","t","i","e","s","Date","getTimezoneOffset","n","prototype","utc","date","args","arguments","this","toDate","locale","$L","local","u","parse","$u","$utils","$offset","call","o","init","$d","$y","getUTCFullYear","$M","getUTCMonth","$D","getUTCDate","$W","getUTCDay","$H","getUTCHours","$m","getUTCMinutes","$s","getUTCSeconds","$ms","getUTCMilliseconds","f","utcOffset","Math","abs","add","r","format","valueOf","isUTC","toISOString","toString","toUTCString","a","dayjs","extend","EditConsult","initial","useState","show","setShow","clients","useSelector","state","client","procedures","procedure","useDispatch","formRef","useRef","useEffect","Clients","handleSubmit","schema","Yup","shape","required","ensure","type_consult","validate","abortEarly","sendData","value","map","observations","status","current","setErrors","reset","errorMessages","path","inner","forEach","erro","OverlayTrigger","placement","overlay","Tooltip","className","onClick","size","Modal","onHide","Header","closeButton","Title","Body","ref","initialData","parseISO","label","name","onSubmit","Row","Col","md","placeholderText","options","onInputChange","input","length","clientInputChange","isMulti","rows","col","Button","variant","registerLocale","br","Table","client_id","consult","items","loading","undefined","dateI","setDateI","dateF","setDateF","setClient","table","filterDateFields","selected","onChange","fixedHeight","isClearable","dateFormat","preventDefault","start","end","Spinner","striped","hover","version","pagination","noDataText","isKey","dataField","hidden","width","dataFormat","cell","row","href","avatar_url","rel","target","src","alt","style","height","borderRadius","to","placeholder","onInput","filtered","contact","proc","idx","key","Badge","dataSort","window","confirm","cancelConsult","color","React","forwardRef","_ref","bsPrefix","pill","_ref$as","as","Component","props","_objectWithoutPropertiesLoose","prefix","useBootstrapPrefix","createElement","_extends","classNames","displayName","defaultProps","ClientDetail","useParams","item","setItem","getClient","Object","entries","roundedCircle","email","cpf","rg","sex","occupation","address","street","neighborhood","city","createdAt","createdBy","updatedAt","updatedBy"],"mappings":"sGAAA,yGAiCaA,EAAgB,SAACC,GAAD,OAAU,SAACC,GAGvC,OAFAA,EAAS,CAAEC,KAAMC,MAEVC,IACLC,IADK,oBACYL,EAAKM,KAAON,GAC7BO,MAAK,SAACC,GACNP,EAAS,CAAEC,KAAMO,IAAuBC,QAASF,EAASR,OAC1DW,SAAOC,QAAQ,mCACfX,EAASY,QAETC,OAAM,SAACC,GACPd,EAAS,CAAEC,KAAMc,IAAqBN,QAASK,EAAMP,SAASR,OAC9DW,SAAOI,MAAMA,EAAMP,SAASR,KAAKiB,cAIvBJ,EAAW,SAACK,GAAD,OAAW,SAACjB,GAGnC,OAFAA,EAAS,CAAEC,KAAMiB,MAEVf,IACLgB,IADK,YACY,CAAEC,OAAQH,IAC3BX,MAAK,SAACC,GACNP,EAAS,CAAEC,KAAMoB,IAAwBZ,QAASF,EAASR,UAE3Dc,OAAM,SAACC,GACPd,EAAS,CAAEC,KAAMqB,IAAsBb,QAASK,EAAMP,SAASR,OAC/DW,SAAOI,MAAMA,EAAMP,SAASR,KAAKiB,e,iCC3DpC,mIAYaO,EAAgB,SAACxB,GAAD,OAAU,SAACC,GAGvC,OAFAA,EAAS,CAAEC,KAAMuB,MAEVrB,IACLsB,KAAK,cAAe1B,GACpBO,MAAK,SAACC,GACNP,EAAS,CAAEC,KAAMyB,IAAyBjB,QAASF,EAASR,UAE5Dc,OAAM,SAACC,GACPd,EAAS,CAAEC,KAAM0B,IAAuBlB,QAASK,EAAMP,SAASR,YAItD6B,EAAkB,SAAC7B,EAAM8B,GAAP,OAAc,SAAC7B,GAG7C,OAFAA,EAAS,CAAEC,KAAMuB,MAEVrB,IACLC,IADK,sBACcyB,GAAM9B,GACzBO,MAAK,SAACC,GACNuB,QAAQC,IAAIxB,EAASR,MACrBC,EAAS,CAAEC,KAAM+B,IAA0BvB,QAASF,EAASR,UAE7Dc,OAAM,SAACC,GACPd,EAAS,CAAEC,KAAM0B,IAAuBlB,QAASK,EAAMP,SAASR,YAItDkC,EAAa,kBAAM,SAACjC,GAGhC,OAFAA,EAAS,CAAEC,KAAMiC,MAEV/B,IACLgB,IAAI,eACJb,MAAK,SAACC,GACNP,EAAS,CAAEC,KAAMkC,IAA0B1B,QAASF,EAASR,UAE7Dc,OAAM,SAACC,GACPd,EAAS,CAAEC,KAAMmC,IAAwB3B,QAASK,EAAMP,SAASR,a,oBChDAsC,EAAOC,QAAyF,WAAW,aAAa,OAAO,SAASC,EAAEC,EAAEC,GAAG,IAAIC,GAAG,IAAIC,MAAMC,oBAAoBC,EAAEL,EAAEM,UAAUL,EAAEM,IAAI,SAASR,GAAG,OAAO,IAAIC,EAAE,CAACQ,KAAKT,EAAEQ,KAAI,EAAGE,KAAKC,aAAaL,EAAEE,IAAI,WAAW,OAAON,EAAEU,KAAKC,SAAS,CAACC,OAAOF,KAAKG,GAAGP,KAAI,KAAMF,EAAEU,MAAM,WAAW,OAAOd,EAAEU,KAAKC,SAAS,CAACC,OAAOF,KAAKG,GAAGP,KAAI,KAAM,IAAIS,EAAEX,EAAEY,MAAMZ,EAAEY,MAAM,SAASlB,GAAGA,EAAEQ,MAAMI,KAAKO,IAAG,GAAIP,KAAKQ,SAASH,EAAEjB,EAAEqB,WAAWT,KAAKS,QAAQrB,EAAEqB,SAASJ,EAAEK,KAAKV,KAAKZ,IAAI,IAAIuB,EAAEjB,EAAEkB,KAAKlB,EAAEkB,KAAK,WAAW,GAAGZ,KAAKO,GAAG,CAAC,IAAInB,EAAEY,KAAKa,GAAGb,KAAKc,GAAG1B,EAAE2B,iBAAiBf,KAAKgB,GAAG5B,EAAE6B,cAAcjB,KAAKkB,GAAG9B,EAAE+B,aAAanB,KAAKoB,GAAGhC,EAAEiC,YAAYrB,KAAKsB,GAAGlC,EAAEmC,cAAcvB,KAAKwB,GAAGpC,EAAEqC,gBAAgBzB,KAAK0B,GAAGtC,EAAEuC,gBAAgB3B,KAAK4B,IAAIxC,EAAEyC,0BAA0BlB,EAAED,KAAKV,OAAO,IAAI8B,EAAEpC,EAAEqC,UAAUrC,EAAEqC,UAAU,SAAS3C,GAAG,IAAIC,EAAEW,KAAKQ,SAASH,EAAE,GAAGhB,EAAED,GAAG,OAAOY,KAAKO,GAAG,EAAElB,EAAEW,KAAKS,SAASqB,EAAEpB,KAAKV,MAAMA,KAAKS,QAAQ,IAAInB,EAAEI,EAAEsC,KAAKC,IAAI7C,IAAI,GAAG,GAAGA,EAAEA,EAAE,OAAO,IAAIA,GAAGE,EAAEU,KAAKI,QAAQ8B,IAAIxC,EAAEH,EAAE,WAAWkB,QAAQf,EAAEJ,EAAEU,KAAKJ,MAAMN,GAAG,IAAI6C,EAAEzC,EAAE0C,OAAO1C,EAAE0C,OAAO,SAAShD,GAAG,IAAIC,EAAED,IAAIY,KAAKO,GAAG,yBAAyB,IAAI,OAAO4B,EAAEzB,KAAKV,KAAKX,IAAIK,EAAE2C,QAAQ,WAAW,IAAIjD,EAAEY,KAAKQ,SAASH,EAAEL,KAAKS,SAAS,EAAET,KAAKS,QAAQlB,EAAE,OAAOS,KAAKa,GAAGwB,UAAU,IAAIjD,GAAGM,EAAE4C,MAAM,WAAW,QAAQtC,KAAKO,IAAIb,EAAE6C,YAAY,WAAW,OAAOvC,KAAKC,SAASsC,eAAe7C,EAAE8C,SAAS,WAAW,OAAOxC,KAAKC,SAASwC,eAAe,IAAIC,EAAEhD,EAAEO,OAAOP,EAAEO,OAAO,SAASb,GAAG,MAAM,MAAMA,GAAGY,KAAKS,QAAQnB,EAAEU,KAAKoC,OAAO,4BAA4BnC,SAASyC,EAAEhC,KAAKV,QAAj+CX,I,yWCiBnFsD,IAAMC,OAAOhD,KAuKEiD,MArKf,YAAmC,IAAZC,EAAW,EAAXA,QAAW,EACTC,oBAAS,GADA,mBAC1BC,EAD0B,KACpBC,EADoB,KAEzBC,EAAYC,uBAAY,SAACC,GAAD,OAAWA,EAAMC,UAAzCH,QACAI,EAAeH,uBAAY,SAACC,GAAD,OAAWA,EAAMG,aAA5CD,WACFzG,EAAW2G,wBAEXC,EAAUC,iBAAO,MAEvBC,qBAAU,WACT9G,EAAS+G,eACT/G,EAASiC,iBACP,CAACjC,IAEJ,IAAMgH,EAAY,uCAAG,WAAOjH,GAAP,yBAAA8F,EAAA,sEAEboB,EAASC,MAAaC,MAAM,CACjCnE,KAAMkE,MAAaE,SAAS,8BAC5BZ,OAAQU,MAAaG,SAASD,SAAS,qBACvCX,WAAYS,MAAaG,SAASD,SAAS,4BAC3CE,aAAcJ,MAAaG,SAASD,SAAS,gCAN3B,SAQbH,EAAOM,SAASxH,EAAM,CAAEyH,YAAY,IARvB,cASbC,EAAW,CAChBpH,IAAKN,EAAKM,IACV2C,KAAM8C,IAAM/F,EAAKiD,MAAMuC,OAAO,4BAC9BiB,OAAQzG,EAAKyG,OAAOkB,MACpBjB,WAAY1G,EAAK0G,WAAWkB,KAAI,SAACjB,GAAD,OAAeA,EAAUgB,SACzDJ,aAAcvH,EAAKuH,aACnBM,aAAc7H,EAAK6H,aACnBC,OAAQ9H,EAAK8H,QAhBK,kBAmBK1H,IAAMC,IAAN,oBAAuBqH,EAASpH,KAAOoH,GAnB5C,OAmBZlH,EAnBY,OAoBlBuB,QAAQC,IAAIxB,GACY,MAApBA,EAASsH,SACZ7H,EAASY,eACTF,SAAOC,QAAQ,mCACfiG,EAAQkB,QAAQC,UAAU,IAC1BnB,EAAQkB,QAAQE,QAChB5B,GAAQ,IA1BS,kDA6BVrG,EAAS,KAAMQ,SAAfR,MACFkI,EAAgB,IACRlI,EAAKmI,MAAQnI,EAAKiB,QAChC4F,EAAQkB,QAAQC,UAAUE,GAhCR,0DAmCf,gBAAiBf,MACde,EAAgB,GACtB,KAAME,MAAMC,SAAQ,SAACC,GACpBJ,EAAcI,EAAKH,MAAQG,EAAKrH,QAChC4F,EAAQkB,QAAQC,UAAUE,OAvCT,iEAAH,sDAsDlB,OACC,oCACC,kBAACK,EAAA,EAAD,CAAgBC,UAAU,SAASC,QAAS,kBAACC,EAAA,EAAD,CAAS5G,GAAG,QAAZ,qBAC3C,4BAAQ6G,UAAU,eAAeC,QAAS,kBAAMvC,GAAQ,KACvD,kBAAC,IAAD,CAAQwC,KAAM,OAIhB,kBAACC,EAAA,EAAD,CAAOD,KAAK,KAAKzC,KAAMA,EAAM2C,OAAQ,kBAAM1C,GAAQ,KAClD,kBAACyC,EAAA,EAAME,OAAP,CAAcC,aAAW,GACxB,kBAACH,EAAA,EAAMI,MAAP,yBAED,kBAACJ,EAAA,EAAMK,KAAP,KACC,kBAAC,IAAD,CACCC,IAAKvC,EACLwC,YAAa,CACZ/I,IAAK4F,EAAQ5F,IACb2C,KAAMqG,kBAASpD,EAAQjD,MACvBwD,OAAQ,CAAEkB,MAAOzB,EAAQO,OAAOnG,IAAKiJ,MAAOrD,EAAQO,OAAO+C,MAC3D9C,WAAYR,EAAQQ,WAAWkB,KAAI,SAACjB,GAAD,MAAgB,CAClDgB,MAAOhB,EAAUrG,IACjBiJ,MAAO5C,EAAU6C,SAElBjC,aAAcrB,EAAQqB,aACtBO,OAAQ5B,EAAQ4B,OAChBD,aAAc3B,EAAQ2B,cAEvB4B,SAAUxC,GAEV,kBAAC,IAAD,CAAO/G,KAAK,SAASsJ,KAAK,QAC1B,kBAACE,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKC,GAAI,GACR,kBAAC,IAAD,CAAYC,gBAAgB,YAAYL,KAAK,WAG/C,kBAACE,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKC,GAAI,GACR,kBAAC,IAAD,CACCL,MAAM,UACNC,KAAK,SACLM,QAASxD,EAAQwD,QACjBC,cAAe,SAACC,GAAD,OAlDG,SAACA,GACtBA,EAAMC,QAAU,GACnBhK,EAAS+G,YAAQ,CAAEwC,KAAMQ,KAEL,IAAjBA,EAAMC,QACThK,EAAS+G,eA6CuBkD,CAAkBF,QAI/C,kBAACN,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKC,GAAI,GACR,kBAAC,IAAD,CAAQL,MAAM,gBAAgBY,SAAO,EAACX,KAAK,aAAaM,QAASpD,EAAWoD,YAG9E,kBAACJ,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKC,GAAI,GACR,kBAAC,IAAD,CACCL,MAAM,gBACNC,KAAK,eACLM,QAAS,CACR,CAAEP,MAAO,WAAY5B,MAAO,GAC5B,CAAE4B,MAAO,UAAW5B,MAAO,GAC3B,CAAE4B,MAAO,cAAY5B,MAAO,QAKhC,kBAAC+B,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKC,GAAI,GACR,kBAAC,IAAD,CACCL,MAAM,SACNC,KAAK,SACLM,QAAS,CACR,CAAEnC,MAAO,EAAG4B,MAAO,aACnB,CAAE5B,MAAO,EAAG4B,MAAO,kBAKvB,kBAACG,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKC,GAAI,IACR,kBAAC,IAAD,CAAUQ,KAAM,GAAIC,IAAK,GAAId,MAAM,oBAAcC,KAAK,mBAIxD,kBAACE,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKC,GAAI,GAAIjB,UAAU,cACtB,kBAAC2B,EAAA,EAAD,CAAQpK,KAAK,SAASqK,QAAQ,WAA9B,UAGA,kBAACD,EAAA,EAAD,CAAQC,QAAQ,SAAS3B,QAAS,kBAAMvC,GAAQ,KAAhD,mB,yBC5JRmE,yBAAe,QAASC,KAyOTC,IAvOD,SAAC,GAAkB,EAAhBC,UAAiB,IAC3B1K,EAAW2G,wBADe,EAELL,uBAAY,SAACC,GAAD,OAAWA,EAAMoE,QAAQ/J,YAAxDgK,EAFwB,EAExBA,MAAOC,EAFiB,EAEjBA,QAFiB,EAIN3E,wBAAS4E,GAJH,mBAIzBC,EAJyB,KAIlBC,EAJkB,OAKN9E,wBAAS4E,GALH,mBAKzBG,EALyB,KAKlBC,EALkB,OAMJhF,mBAAS,IANL,mBAMzBM,EANyB,KAMjB2E,EANiB,KAQ1BC,EAAQvE,iBAAO,MAkHfwE,EACL,yBAAK3C,UAAU,eACd,kBAAC,IAAD,CACCkB,gBAAgB,eAChB0B,SAAUP,EACVQ,SAAU,SAACvI,GAAD,OAAUgI,EAAShI,IAC7BwI,aAAW,EACX9C,UAAU,YACVa,KAAK,QACLkC,aAAa,EACbC,WAAW,aACXrI,OAAO,UAGR,kBAAC,IAAD,CACCuG,gBAAgB,aAChB0B,SAAUL,EACVM,SAAU,SAACvI,GAAD,OAAUkI,EAASlI,IAC7BwI,aAAW,EACX9C,UAAU,YACVa,KAAK,QACLkC,aAAa,EACbC,WAAW,aACXrI,OAAO,UAER,kBAACgH,EAAA,EAAD,CAAQpK,KAAK,SAAS0I,QA5CC,SAAClG,GACzBA,EAAEkJ,iBACF,IAAMC,EAAQb,GAASjF,IAAMiF,GAAOxF,OAAO,4BACrCsG,EAAMZ,GAASnF,IAAMmF,GAAO1F,OAAO,4BACzCvF,EAASY,YAAS,CAAEgL,QAAOC,WAyCzB,kBAAC,IAAD,CAAajD,KAAM,OAKtB,OAAOiC,EACN,kBAACiB,EAAA,EAAD,MAEA,oCACC,kBAAC,iBAAD,CACC/L,KAAM6K,EACNmB,SAAO,EACPC,OAAK,EACLC,QAAQ,IACR9C,IAAKiC,EACLc,YAAU,EACVrC,QAAS,CAAEsC,WAAY,gCAEvB,kBAAC,oBAAD,CAAmBC,OAAK,EAACC,UAAU,KAAKC,QAAM,GAA9C,MAGA,kBAAC,oBAAD,CACCD,UAAU,OACVE,MAAM,MACNC,WAAY,SAACC,EAAMC,GAAP,OACX,uBAAGhE,UAAU,oBAAoB5C,IAAM2G,GAAMlH,OAAO,oBAAoBI,cAJ1E,OAQC,6BACC0F,GAEF,kBAAC,oBAAD,CACCgB,UAAU,SACVG,WAAY,SAACC,EAAMC,GAAP,OACX,oCACC,uBAAGC,KAAMF,EAAKG,WAAYC,IAAI,sBAAsBnE,UAAU,OAAOoE,OAAO,UAC3E,yBACCC,IAAKN,EAAKG,WACVI,IAAI,SACJC,MAAO,CAAEV,MAAO,OAAQW,OAAQ,OAAQC,aAAc,OAGxD,kBAAC,OAAD,CAAMC,GAAE,oCAA+BX,EAAKpM,MAAQoM,EAAKlD,SAX5D,UAgBC,6BACA,2BACCtJ,KAAK,OACLoN,YAAY,gBACZ9B,SAAU,SAAC9I,GAAD,OAAO0I,EAAU1I,EAAEqK,OAAOpF,QACpC4F,QA3FsB,SAAC7K,GAC3B,IAAM8K,EAAW9K,EAAEqK,OAAOpF,MACpBkE,EAAQb,GAASjF,IAAMiF,GAAOxF,OAAO,4BACrCsG,EAAMZ,GAASnF,IAAMmF,GAAO1F,OAAO,4BACrCgI,EAASvD,QAAU,GACtBhK,EAASY,YAAS,CAAEgL,QAAOC,MAAKrF,YAET,IAApB+G,EAASvD,QACZhK,EAASY,gBAoFN8G,MAAOlB,KAGT,kBAAC,oBAAD,CACC+F,MAAM,MACNF,UAAU,SACVG,WAAY,SAACC,EAAMC,GAAP,OAAe,+BAAQD,EAAKe,WAHzC,YAOA,kBAAC,oBAAD,CAAmBnB,UAAU,aAAaG,WA1MpB,SAACC,EAAMC,GAC/B,OACC,6BACC,wBAAIhE,UAAU,iBACZ+D,EAAK9E,KAAI,SAAC8F,EAAMC,GAAP,OACT,wBAAIC,IAAKD,GACR,kBAACE,EAAA,EAAD,CAAOtD,QAAQ,WACd,0BAAM5B,UAAU,oBAAoB+E,EAAKlE,eAmM7C,iBAIA,kBAAC,oBAAD,CAAmB8C,UAAU,gBAA7B,qBACA,kBAAC,oBAAD,CAAmBA,UAAU,eAAeE,MAAM,MAAMC,WA/LxC,SAACC,EAAMC,GACzB,OACC,6BACiB,MAAfD,EAAK/E,MACL,kBAACkG,EAAA,EAAD,CAAOtD,QAAQ,WAAf,YACkB,MAAfmC,EAAK/E,MACR,kBAACkG,EAAA,EAAD,CAAOtD,QAAQ,WAAf,WAEA,kBAACsD,EAAA,EAAD,CAAOtD,QAAQ,UAAf,kBAuLD,iBAGA,kBAAC,oBAAD,CAAmB+B,UAAU,SAASG,WApLpB,SAACC,EAAMC,GAC3B,OACC,6BACiB,MAAfD,EAAK/E,MACL,kBAACkG,EAAA,EAAD,CAAOtD,QAAQ,WAAf,WACkB,MAAfmC,EAAK/E,MACR,kBAACkG,EAAA,EAAD,CAAOtD,QAAQ,WAAf,aACkB,MAAfmC,EAAK/E,MACR,kBAACkG,EAAA,EAAD,CAAOtD,QAAQ,UAAf,aAEA,kBAACsD,EAAA,EAAD,CAAOtD,QAAQ,WAAf,eA0K+DiC,MAAM,MAAMsB,UAAQ,GAApF,UAGA,kBAAC,oBAAD,CAAmBtB,MAAM,MAAMC,WApJZ,SAACC,EAAMC,GAC5B,OACC,yBAAKhE,UAAU,eACd,kBAACJ,EAAA,EAAD,CAAgBC,UAAU,SAASC,QAAS,kBAACC,EAAA,EAAD,CAAS5G,GAAG,QAAZ,sBAC3C,4BAAQ6G,UAAU,eAAeC,QAAS,SAAClG,GAAD,OAvBxB,SAACA,EAAGiK,IACzB5K,QAAQC,IAAI2K,GACZjK,EAAEkJ,iBACuB,MAArBe,EAAI7E,OAAOH,OAIU,MAArBgF,EAAI7E,OAAOH,OAKC,IADAoG,OAAOC,QAAQ,iDAE9BrB,EAAIlG,OAASkG,EAAIlG,OAAOnG,IACxBqM,EAAI7E,OAAS,CAAEH,MAAO,EAAG4B,MAAO,aAChCtJ,EAASF,YAAc4M,KAPvBhM,SAAOI,MAAM,yCAJbJ,SAAOI,MAAM,iDAmBsCkN,CAAcvL,EAAGiK,KACjE,kBAAC,IAAD,CAAiB9D,KAAM,GAAIqF,MAAM,UAIb,MAArBvB,EAAI7E,OAAOH,OACX,kBAACY,EAAA,EAAD,CAAgBC,UAAU,SAASC,QAAS,kBAACC,EAAA,EAAD,CAAS5G,GAAG,QAAZ,uBAC3C,kBAAC,OAAD,CAAMuL,GAAE,2BAAsBV,EAAI7K,KACjC,kBAAC,IAAD,CAAoB+G,KAAM,GAAIqF,MAAM,cAIvC,kBAAC,EAAD,CAAahI,QAASyG,IACA,MAArBA,EAAI7E,OAAOH,OAAsC,MAArBgF,EAAI7E,OAAOH,OACvC,kBAACY,EAAA,EAAD,CAAgBC,UAAU,SAASC,QAAS,kBAACC,EAAA,EAAD,CAAS5G,GAAG,QAAZ,mBAC3C,kBAAC,OAAD,CAAMuL,GAAE,iBAAYV,EAAI7K,KACvB,kBAAC,IAAD,CAAS+G,KAAM,UAgIlB,mB,iCCjPJ,2DAQIgF,EAAQM,IAAMC,YAAW,SAAUC,EAAMjF,GAC3C,IAAIkF,EAAWD,EAAKC,SAChB/D,EAAU8D,EAAK9D,QACfgE,EAAOF,EAAKE,KACZ5F,EAAY0F,EAAK1F,UACjB6F,EAAUH,EAAKI,GACfC,OAAwB,IAAZF,EAAqB,OAASA,EAC1CG,EAAQC,YAA8BP,EAAM,CAAC,WAAY,UAAW,OAAQ,YAAa,OAEzFQ,EAASC,YAAmBR,EAAU,SAC1C,OAAoBH,IAAMY,cAAcL,EAAWM,YAAS,CAC1D5F,IAAKA,GACJuF,EAAO,CACRhG,UAAWsG,IAAWtG,EAAWkG,EAAQN,GAAQM,EAAS,QAAStE,GAAWsE,EAAS,IAAMtE,SAGjGsD,EAAMqB,YAAc,QACpBrB,EAAMsB,aApBa,CACjBZ,MAAM,GAoBOV,O,qOC4GAuB,UA3HM,WAAO,IACnBtN,EAAOuN,cAAPvN,GADkB,EAGFqE,mBAAS,IAHP,mBAGnBmJ,EAHmB,KAGbC,EAHa,KAKpBtP,EAAW2G,wBAYjB,OAVAG,qBAAU,WAAM,4CACf,4BAAAjB,EAAA,sEACwB1F,IAAMgB,IAAN,mBAAsBU,IAD9C,OACOtB,EADP,OAEC+O,EAAQ/O,EAASR,MAFlB,4CADe,uBAAC,WAAD,wBAMfwP,GACAvP,EAASY,YAAS,CAAE8J,UAAW7I,OAC7B,CAACA,IAEmC,IAAhC2N,OAAOC,QAAQJ,GAAMrF,OAC3B,kBAAC,IAAD,MAEA,oCACC,kBAAC,IAAD,CAAKtB,UAAU,+BACd,kBAAC,IAAD,CAAKiB,GAAI,EAAGjB,UAAU,eACrB,kBAAC,IAAD,CAAOA,UAAU,mBAAmBgH,eAAa,EAAC3C,IAAKsC,EAAKzC,aAC5D,uBAAGlE,UAAU,qBAAqB2G,EAAK9F,QAIzC,kBAAC,IAAD,CAAKb,UAAU,QACd,kBAAC,IAAD,KACC,uBAAGA,UAAU,YAAb,oBAIF,kBAAC,IAAD,CAAKA,UAAU,QACd,kBAAC,IAAD,CAAKiB,GAAI,GACR,2BACC,wCADD,MAC0B0F,EAAK9F,OAGhC,kBAAC,IAAD,CAAKI,GAAI,GACR,2BACC,yCADD,MAC2B0F,EAAKM,QAGjC,kBAAC,IAAD,CAAKhG,GAAI,GACR,2BACC,2CADD,MAC6B0F,EAAK7B,WAIpC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAK7D,GAAI,GACR,2BACC,uCADD,MACyB0F,EAAKO,MAG/B,kBAAC,IAAD,CAAKjG,GAAI,GACR,2BACC,sCADD,MACwB0F,EAAKQ,KAG9B,kBAAC,IAAD,CAAKlG,GAAI,GACR,2BACC,wCADD,MAC0B0F,EAAKS,KAAOT,EAAKS,IAAIxG,QAGhD,kBAAC,IAAD,CAAKK,GAAI,GACR,2BACC,kDADD,MAC8B0F,EAAKU,cAIrC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAKpG,GAAI,GACR,2BACC,+CADD,MAC8B0F,EAAKW,SAAWX,EAAKW,QAAQC,SAG5D,kBAAC,IAAD,CAAKtG,GAAI,GACR,2BACC,0CADD,MAC4B0F,EAAKW,SAAWX,EAAKW,QAAQE,eAG1D,kBAAC,IAAD,CAAKvG,GAAI,GACR,2BACC,0CADD,MAC4B0F,EAAKW,SAAWX,EAAKW,QAAQG,KAAK7G,QAG/D,kBAAC,IAAD,CAAKK,GAAI,GACR,2BACC,0CADD,MAC4B0F,EAAKW,SAAWX,EAAKW,QAAQzJ,MAAM+C,SAIjE,kBAAC,IAAD,CAAKZ,UAAU,QACd,kBAAC,IAAD,CAAKiB,GAAI,GACR,2BACC,6CADD,MAC+B7D,IAAMuJ,EAAKe,WAAW7K,OAAO,oBAD5D,OACqF,IACnF8J,EAAKgB,WAAahB,EAAKgB,UAAU9G,OAGpC,kBAAC,IAAD,CAAKI,GAAI,GACR,2BACC,iDADD,MACmC7D,IAAMuJ,EAAKiB,WAAW/K,OAAO,oBADhE,OACyF,IACvF8J,EAAKkB,WAAalB,EAAKkB,UAAUhH,QAIrC,kBAAC,IAAD,KACC,kBAAC,IAAD,KACC,uBAAGb,UAAU,YAAb,eAGF,kBAAC,IAAD,CAAKA,UAAU,QACd,kBAAC,IAAD,CAAKiB,GAAI,IACR,kBAAC,IAAD","file":"static/js/7.00b1f002.chunk.js","sourcesContent":["import {\n\tSET_CONSULT,\n\tFETCH_CONSULT_REQUEST,\n\tFETCH_CONSULT_SUCCESS,\n\tFETCH_CONSULT_ERROR,\n\tFETCH_CONSULTS_REQUEST,\n\tFETCH_CONSULTS_SUCCESS,\n\tFETCH_CONSULTS_ERROR,\n} from '../types';\n\nimport { toastr } from 'react-redux-toastr';\n\nimport axios from 'axios';\n\nexport const saveConsult = (data) => (dispatch) => {\n\tdispatch({ type: FETCH_CONSULT_REQUEST });\n\treturn axios\n\t\t.post('/consults', data)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_CONSULT_SUCCESS, payload: response.data });\n\t\t\ttoastr.success('Consulta salva com sucesso');\n\t\t\t//dispatch(consults());\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_CONSULT_ERROR, payload: error.response.data });\n\t\t\ttoastr.error(error.response.data.message);\n\t\t});\n};\n\nexport const setConsult = (data) => (dispatch) => {\n\tdispatch({ type: SET_CONSULT, payload: data });\n};\n\nexport const updateConsult = (data) => (dispatch) => {\n\tdispatch({ type: FETCH_CONSULT_REQUEST });\n\n\treturn axios\n\t\t.put(`/consults/${data._id}`, data)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_CONSULT_SUCCESS, payload: response.data });\n\t\t\ttoastr.success('Consulta atualizada com sucesso');\n\t\t\tdispatch(consults());\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_CONSULT_ERROR, payload: error.response.data });\n\t\t\ttoastr.error(error.response.data.message);\n\t\t});\n};\n\nexport const consults = (query) => (dispatch) => {\n\tdispatch({ type: FETCH_CONSULTS_REQUEST });\n\n\treturn axios\n\t\t.get(`/consults`, { params: query })\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_CONSULTS_SUCCESS, payload: response.data });\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_CONSULTS_ERROR, payload: error.response.data });\n\t\t\ttoastr.error(error.response.data.message);\n\t\t});\n};\n\nexport const getConsult = (id) => (dispatch) => {\n\tdispatch({ type: FETCH_CONSULT_REQUEST });\n\treturn axios\n\t\t.get(`/consults/${id}`)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_CONSULT_SUCCESS, payload: response.data });\n\t\t})\n\t\t.catch((error) => dispatch({ type: FETCH_CONSULT_ERROR, payload: error.response.data }));\n};\n\nexport const searchConsults = (input) => (dispatch) => {\n\tdispatch({ type: FETCH_CONSULTS_REQUEST });\n\treturn axios\n\t\t.get(`/consults/search/?search=${input}`)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_CONSULTS_SUCCESS, payload: response.data });\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_CONSULTS_ERROR, payload: error.response.data });\n\t\t});\n};\n","import {\n\tFETCH_PROCEDURE_REQUEST,\n\tFETCH_PROCEDURE_SUCCESS,\n\tUPDATE_PROCEDURE_SUCCESS,\n\tFETCH_PROCEDURE_ERROR,\n\tFETCH_PROCEDURES_REQUEST,\n\tFETCH_PROCEDURES_SUCCESS,\n\tFETCH_PROCEDURES_ERROR,\n} from '../types';\n\nimport axios from 'axios';\n\nexport const saveProcedure = (data) => (dispatch) => {\n\tdispatch({ type: FETCH_PROCEDURE_REQUEST });\n\n\treturn axios\n\t\t.post('/procedures', data)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURE_SUCCESS, payload: response.data });\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURE_ERROR, payload: error.response.data });\n\t\t});\n};\n\nexport const updateProcedure = (data, id) => (dispatch) => {\n\tdispatch({ type: FETCH_PROCEDURE_REQUEST });\n\n\treturn axios\n\t\t.put(`/procedures/${id}`, data)\n\t\t.then((response) => {\n\t\t\tconsole.log(response.data);\n\t\t\tdispatch({ type: UPDATE_PROCEDURE_SUCCESS, payload: response.data });\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURE_ERROR, payload: error.response.data });\n\t\t});\n};\n\nexport const Procedures = () => (dispatch) => {\n\tdispatch({ type: FETCH_PROCEDURES_REQUEST });\n\n\treturn axios\n\t\t.get('/procedures')\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURES_SUCCESS, payload: response.data });\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURES_ERROR, payload: error.response.data });\n\t\t});\n};\n\nexport const searchProcedures = (input) => (dispatch) => {\n\tdispatch({ type: FETCH_PROCEDURES_REQUEST });\n\n\treturn axios\n\t\t.get(`/procedures/search/?search=${input}`)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURES_SUCCESS, payload: response.data });\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURES_ERROR, payload: error.response.data });\n\t\t});\n};\n","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):t.dayjs_plugin_utc=i()}(this,function(){\"use strict\";return function(t,i,e){var s=(new Date).getTimezoneOffset(),n=i.prototype;e.utc=function(t){return new i({date:t,utc:!0,args:arguments})},n.utc=function(){return e(this.toDate(),{locale:this.$L,utc:!0})},n.local=function(){return e(this.toDate(),{locale:this.$L,utc:!1})};var u=n.parse;n.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),u.call(this,t)};var o=n.init;n.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else o.call(this)};var f=n.utcOffset;n.utcOffset=function(t){var i=this.$utils().u;if(i(t))return this.$u?0:i(this.$offset)?f.call(this):this.$offset;var e,n=Math.abs(t)<=16?60*t:t;return 0!==t?(e=this.local().add(n+s,\"minute\")).$offset=n:e=this.utc(),e};var r=n.format;n.format=function(t){var i=t||(this.$u?\"YYYY-MM-DDTHH:mm:ss[Z]\":\"\");return r.call(this,i)},n.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+s;return this.$d.valueOf()-6e4*t},n.isUTC=function(){return!!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};var a=n.toDate;n.toDate=function(t){return\"s\"===t&&this.$offset?e(this.format(\"YYYY-MM-DD HH:mm:ss:SSS\")).toDate():a.call(this)}}});\n","import React, { useState, useEffect, useRef } from 'react';\nimport { toastr } from 'react-redux-toastr';\nimport { useSelector, useDispatch } from 'react-redux';\nimport utc from 'dayjs/plugin/utc';\nimport dayjs from 'dayjs';\nimport { Row, Col, Button, Modal, Tooltip, OverlayTrigger } from 'react-bootstrap';\nimport { Clients } from '../../redux/actions/clientActions';\nimport { Form } from '@unform/web';\nimport { DatePicker, TextArea, Select, Input } from '../../components/common/Form';\nimport * as Yup from 'yup';\nimport { consults } from '../../redux/actions/consultActions';\nimport { Procedures } from '../../redux/actions/procedureActions';\nimport { FaEdit } from 'react-icons/fa';\nimport axios from 'axios';\nimport { parseISO } from 'date-fns';\nimport './styles.css';\n\ndayjs.extend(utc);\n\nfunction EditConsult({ initial }) {\n\tconst [show, setShow] = useState(false);\n\tconst { clients } = useSelector((state) => state.client);\n\tconst { procedures } = useSelector((state) => state.procedure);\n\tconst dispatch = useDispatch();\n\n\tconst formRef = useRef(null);\n\n\tuseEffect(() => {\n\t\tdispatch(Clients());\n\t\tdispatch(Procedures());\n\t}, [dispatch]);\n\n\tconst handleSubmit = async (data) => {\n\t\ttry {\n\t\t\tconst schema = Yup.object().shape({\n\t\t\t\tdate: Yup.string().required('Informe a data da consulta'),\n\t\t\t\tclient: Yup.string().ensure().required('Informe o cliente'),\n\t\t\t\tprocedures: Yup.string().ensure().required('Informe os procedimentos'),\n\t\t\t\ttype_consult: Yup.string().ensure().required('Informe o tipo de consulta'),\n\t\t\t});\n\t\t\tawait schema.validate(data, { abortEarly: false });\n\t\t\tconst sendData = {\n\t\t\t\t_id: data._id,\n\t\t\t\tdate: dayjs(data.date).format('YYYY-MM-DDTHH:mm:ss.sssZ'),\n\t\t\t\tclient: data.client.value,\n\t\t\t\tprocedures: data.procedures.map((procedure) => procedure.value),\n\t\t\t\ttype_consult: data.type_consult,\n\t\t\t\tobservations: data.observations,\n\t\t\t\tstatus: data.status,\n\t\t\t};\n\t\t\ttry {\n\t\t\t\tconst response = await axios.put(`/consults/${sendData._id}`, sendData);\n\t\t\t\tconsole.log(response);\n\t\t\t\tif (response.status === 200) {\n\t\t\t\t\tdispatch(consults());\n\t\t\t\t\ttoastr.success('Consulta atualizada com sucesso');\n\t\t\t\t\tformRef.current.setErrors({});\n\t\t\t\t\tformRef.current.reset();\n\t\t\t\t\tsetShow(false);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconst { data } = error.response;\n\t\t\t\tconst errorMessages = {};\n\t\t\t\terrorMessages[data.path] = data.message;\n\t\t\t\tformRef.current.setErrors(errorMessages);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (error instanceof Yup.ValidationError) {\n\t\t\t\tconst errorMessages = {};\n\t\t\t\terror.inner.forEach((erro) => {\n\t\t\t\t\terrorMessages[erro.path] = erro.message;\n\t\t\t\t\tformRef.current.setErrors(errorMessages);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tconst clientInputChange = (input) => {\n\t\tif (input.length >= 3) {\n\t\t\tdispatch(Clients({ name: input }));\n\t\t}\n\t\tif (input.length === 0) {\n\t\t\tdispatch(Clients());\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"edit\"> Editar consulta</Tooltip>}>\n\t\t\t\t<button className=\"btn btn-link\" onClick={() => setShow(true)}>\n\t\t\t\t\t<FaEdit size={20} />\n\t\t\t\t</button>\n\t\t\t</OverlayTrigger>\n\n\t\t\t<Modal size=\"lg\" show={show} onHide={() => setShow(false)}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>Editar consulta</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form\n\t\t\t\t\t\tref={formRef}\n\t\t\t\t\t\tinitialData={{\n\t\t\t\t\t\t\t_id: initial._id,\n\t\t\t\t\t\t\tdate: parseISO(initial.date),\n\t\t\t\t\t\t\tclient: { value: initial.client._id, label: initial.client.name },\n\t\t\t\t\t\t\tprocedures: initial.procedures.map((procedure) => ({\n\t\t\t\t\t\t\t\tvalue: procedure._id,\n\t\t\t\t\t\t\t\tlabel: procedure.name,\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\ttype_consult: initial.type_consult,\n\t\t\t\t\t\t\tstatus: initial.status,\n\t\t\t\t\t\t\tobservations: initial.observations,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Input type=\"hidden\" name=\"_id\" />\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t\t<DatePicker placeholderText=\"Data/hora\" name=\"date\" />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tlabel=\"Cliente\"\n\t\t\t\t\t\t\t\t\tname=\"client\"\n\t\t\t\t\t\t\t\t\toptions={clients.options}\n\t\t\t\t\t\t\t\t\tonInputChange={(input) => clientInputChange(input)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t\t<Select label=\"Procedimentos\" isMulti name=\"procedures\" options={procedures.options} />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={3}>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tlabel=\"Tipo consulta\"\n\t\t\t\t\t\t\t\t\tname=\"type_consult\"\n\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t{ label: 'Agendada', value: 0 },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Retorno', value: 1 },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Urgência', value: 2 },\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={3}>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tlabel=\"Status\"\n\t\t\t\t\t\t\t\t\tname=\"status\"\n\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t{ value: 2, label: 'Cancelada' },\n\t\t\t\t\t\t\t\t\t\t{ value: 3, label: 'Remarcada' },\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={12}>\n\t\t\t\t\t\t\t\t<TextArea rows={10} col={15} label=\"Observações\" name=\"observations\" />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={12} className=\"text-right\">\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">\n\t\t\t\t\t\t\t\t\tSalvar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button variant=\"danger\" onClick={() => setShow(false)}>\n\t\t\t\t\t\t\t\t\tCancelar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t</>\n\t);\n}\n\nexport default EditConsult;\n","import React, { useState, useRef } from 'react';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport { Badge, Button, Tooltip, OverlayTrigger } from 'react-bootstrap';\nimport { consults, updateConsult } from '../../redux/actions/consultActions';\nimport DatePicker, { registerLocale } from 'react-datepicker';\nimport { IoIosSearch, IoMdCloseCircle } from 'react-icons/io';\nimport { FaBriefcaseMedical, FaPrint } from 'react-icons/fa';\nimport { useDispatch, useSelector } from 'react-redux';\nimport dayjs from 'dayjs';\nimport { Link } from 'react-router-dom';\nimport EditConsult from '../../pages/Consult/EditConsult';\nimport br from 'date-fns/locale/pt-BR';\nimport { toastr } from 'react-redux-toastr';\nimport Spinner from '../common/Spinner';\nimport './styles.css';\n\nregisterLocale('pt-br', br);\n\nconst Table = ({ client_id }) => {\n\tconst dispatch = useDispatch();\n\tconst { items, loading } = useSelector((state) => state.consult.consults);\n\n\tconst [dateI, setDateI] = useState(undefined);\n\tconst [dateF, setDateF] = useState(undefined);\n\tconst [client, setClient] = useState('');\n\n\tconst table = useRef(null);\n\n\tconst proceduresFormat = (cell, row) => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<ul className=\"list-unstyled\">\n\t\t\t\t\t{cell.map((proc, idx) => (\n\t\t\t\t\t\t<li key={idx}>\n\t\t\t\t\t\t\t<Badge variant=\"success\">\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">{proc.name}</span>\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst typeFormat = (cell, row) => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{cell.value === '0' ? (\n\t\t\t\t\t<Badge variant=\"primary\">Agendada</Badge>\n\t\t\t\t) : cell.value === '1' ? (\n\t\t\t\t\t<Badge variant=\"success\">Retorno</Badge>\n\t\t\t\t) : (\n\t\t\t\t\t<Badge variant=\"danger\">Urgência</Badge>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst statusFormat = (cell, row) => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{cell.value === '0' ? (\n\t\t\t\t\t<Badge variant=\"warning\">Marcada</Badge>\n\t\t\t\t) : cell.value === '1' ? (\n\t\t\t\t\t<Badge variant=\"success\">Realizada</Badge>\n\t\t\t\t) : cell.value === '2' ? (\n\t\t\t\t\t<Badge variant=\"danger\">Cancelada</Badge>\n\t\t\t\t) : (\n\t\t\t\t\t<Badge variant=\"primary\">Remarcada</Badge>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst cancelConsult = (e, row) => {\n\t\tconsole.log(row);\n\t\te.preventDefault();\n\t\tif (row.status.value === '1') {\n\t\t\ttoastr.error('Consulta realizada não pode ser cancelada!');\n\t\t\treturn;\n\t\t}\n\t\tif (row.status.value === '2') {\n\t\t\ttoastr.error('Consulta já se encontra cancelada!');\n\t\t\treturn;\n\t\t}\n\t\tconst confirm = window.confirm('Tem certeza que deseja cancelar a consulta?');\n\t\tif (confirm === true) {\n\t\t\trow.client = row.client._id;\n\t\t\trow.status = { value: 2, label: 'Cancelada' };\n\t\t\tdispatch(updateConsult(row));\n\t\t}\n\t};\n\n\tconst actionsFormat = (cell, row) => {\n\t\treturn (\n\t\t\t<div className=\"list-inline\">\n\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"edit\">Cancelar Consulta</Tooltip>}>\n\t\t\t\t\t<button className=\"btn btn-link\" onClick={(e) => cancelConsult(e, row)}>\n\t\t\t\t\t\t<IoMdCloseCircle size={20} color=\"red\" />\n\t\t\t\t\t</button>\n\t\t\t\t</OverlayTrigger>\n\n\t\t\t\t{row.status.value !== '2' && (\n\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"edit\"> Realizar consulta</Tooltip>}>\n\t\t\t\t\t\t<Link to={`/inicio/consulta/${row.id}`}>\n\t\t\t\t\t\t\t<FaBriefcaseMedical size={20} color=\"#62B3B1\" />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t)}\n\t\t\t\t<EditConsult initial={row} />\n\t\t\t\t{row.status.value !== '2' && row.status.value === '1' && (\n\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"edit\">Imprimir Ficha</Tooltip>}>\n\t\t\t\t\t\t<Link to={`/ficha/${row.id}`}>\n\t\t\t\t\t\t\t<FaPrint size={20} />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst filterDateHandle = (e) => {\n\t\te.preventDefault();\n\t\tconst start = dateI && dayjs(dateI).format('YYYY-MM-DDTHH:mm:ss.sssZ');\n\t\tconst end = dateF && dayjs(dateF).format('YYYY-MM-DDTHH:mm:ss.sssZ');\n\t\tdispatch(consults({ start, end }));\n\t};\n\n\tconst filterClientChange = (e) => {\n\t\tconst filtered = e.target.value;\n\t\tconst start = dateI && dayjs(dateI).format('YYYY-MM-DDTHH:mm:ss.sssZ');\n\t\tconst end = dateF && dayjs(dateF).format('YYYY-MM-DDTHH:mm:ss.sssZ');\n\t\tif (filtered.length >= 3) {\n\t\t\tdispatch(consults({ start, end, client }));\n\t\t}\n\t\tif (filtered.length === 0) {\n\t\t\tdispatch(consults());\n\t\t}\n\t};\n\n\tconst filterDateFields = (\n\t\t<div className=\"form-inline\">\n\t\t\t<DatePicker\n\t\t\t\tplaceholderText=\"Data Inicial\"\n\t\t\t\tselected={dateI}\n\t\t\t\tonChange={(date) => setDateI(date)}\n\t\t\t\tfixedHeight\n\t\t\t\tclassName=\"only-hour\"\n\t\t\t\tname=\"dateI\"\n\t\t\t\tisClearable={true}\n\t\t\t\tdateFormat=\"dd/MM/yyyy\"\n\t\t\t\tlocale=\"pt-br\"\n\t\t\t/>\n\n\t\t\t<DatePicker\n\t\t\t\tplaceholderText=\"Data Final\"\n\t\t\t\tselected={dateF}\n\t\t\t\tonChange={(date) => setDateF(date)}\n\t\t\t\tfixedHeight\n\t\t\t\tclassName=\"only-hour\"\n\t\t\t\tname=\"dateF\"\n\t\t\t\tisClearable={true}\n\t\t\t\tdateFormat=\"dd/MM/yyyy\"\n\t\t\t\tlocale=\"pt-br\"\n\t\t\t/>\n\t\t\t<Button type=\"button\" onClick={filterDateHandle}>\n\t\t\t\t<IoIosSearch size={20} />\n\t\t\t</Button>\n\t\t</div>\n\t);\n\n\treturn loading ? (\n\t\t<Spinner />\n\t) : (\n\t\t<>\n\t\t\t<BootstrapTable\n\t\t\t\tdata={items}\n\t\t\t\tstriped\n\t\t\t\thover\n\t\t\t\tversion=\"4\"\n\t\t\t\tref={table}\n\t\t\t\tpagination\n\t\t\t\toptions={{ noDataText: 'Não há itens a exibir' }}\n\t\t\t>\n\t\t\t\t<TableHeaderColumn isKey dataField=\"id\" hidden>\n\t\t\t\t\tId\n\t\t\t\t</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn\n\t\t\t\t\tdataField=\"date\"\n\t\t\t\t\twidth=\"300\"\n\t\t\t\t\tdataFormat={(cell, row) => (\n\t\t\t\t\t\t<p className=\"font-weight-bold\">{dayjs(cell).format('DD/MM/YYYY HH:mm').toString()}</p>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\tData\n\t\t\t\t\t<br />\n\t\t\t\t\t{filterDateFields}\n\t\t\t\t</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn\n\t\t\t\t\tdataField=\"client\"\n\t\t\t\t\tdataFormat={(cell, row) => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<a href={cell.avatar_url} rel=\"noopener noreferrer\" className=\"mr-1\" target=\"_blank\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={cell.avatar_url}\n\t\t\t\t\t\t\t\t\talt=\"Perfil\"\n\t\t\t\t\t\t\t\t\tstyle={{ width: '40px', height: '40px', borderRadius: 50 }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<Link to={`/inicio/clientes/detalhes/${cell._id}`}>{cell.name}</Link>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\tCliente\n\t\t\t\t\t<br />\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Digite o nome\"\n\t\t\t\t\t\tonChange={(e) => setClient(e.target.value)}\n\t\t\t\t\t\tonInput={filterClientChange}\n\t\t\t\t\t\tvalue={client}\n\t\t\t\t\t/>\n\t\t\t\t</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn\n\t\t\t\t\twidth=\"120\"\n\t\t\t\t\tdataField=\"client\"\n\t\t\t\t\tdataFormat={(cell, row) => <label>{cell.contact}</label>}\n\t\t\t\t>\n\t\t\t\t\tTelefone\n\t\t\t\t</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn dataField=\"procedures\" dataFormat={proceduresFormat}>\n\t\t\t\t\tProcedimentos\n\t\t\t\t</TableHeaderColumn>\n\n\t\t\t\t<TableHeaderColumn dataField=\"observations\">Observações</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn dataField=\"type_consult\" width=\"120\" dataFormat={typeFormat}>\n\t\t\t\t\tTipo consulta\n\t\t\t\t</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn dataField=\"status\" dataFormat={statusFormat} width=\"100\" dataSort>\n\t\t\t\t\tStatus\n\t\t\t\t</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn width=\"160\" dataFormat={actionsFormat}>\n\t\t\t\t\tAções\n\t\t\t\t</TableHeaderColumn>\n\t\t\t</BootstrapTable>\n\t\t</>\n\t);\n};\n\nexport default Table;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  pill: false\n};\nvar Badge = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      pill = _ref.pill,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'span' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"variant\", \"pill\", \"className\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'badge');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, prefix, pill && prefix + \"-pill\", variant && prefix + \"-\" + variant)\n  }));\n});\nBadge.displayName = 'Badge';\nBadge.defaultProps = defaultProps;\nexport default Badge;","import React, { useEffect, useState } from 'react';\nimport { Row, Col, Image } from 'react-bootstrap';\nimport { useParams } from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport './styles.css';\nimport Table from '../../components/consult/Table';\nimport Spinner from '../../components/common/Spinner';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { consults } from '../../redux/actions/consultActions';\n\nconst ClientDetail = () => {\n\tconst { id } = useParams();\n\n\tconst [item, setItem] = useState({});\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tasync function getClient() {\n\t\t\tconst response = await axios.get(`/clients/${id}`);\n\t\t\tsetItem(response.data);\n\t\t}\n\n\t\tgetClient();\n\t\tdispatch(consults({ client_id: id }));\n\t}, [id]);\n\n\treturn Object.entries(item).length === 0 ? (\n\t\t<Spinner />\n\t) : (\n\t\t<>\n\t\t\t<Row className=\"justify-content-center mb-4\">\n\t\t\t\t<Col md={4} className=\"text-center\">\n\t\t\t\t\t<Image className=\"rounded-img mt-2\" roundedCircle src={item.avatar_url} />\n\t\t\t\t\t<p className=\"title text-center\">{item.name}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\n\t\t\t<Row className=\"mt-4\">\n\t\t\t\t<Col>\n\t\t\t\t\t<p className=\"subtitle\">Dados pessoais</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\n\t\t\t<Row className=\"mt-4\">\n\t\t\t\t<Col md={3}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Nome</strong> - {item.name}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t\t<Col md={3}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Email</strong> - {item.email}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t\t<Col md={3}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Contato</strong> - {item.contact}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col md={3}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>CPF</strong> - {item.cpf}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t\t<Col md={3}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>RG</strong> - {item.rg}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t\t<Col md={3}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Sexo</strong> - {item.sex && item.sex.label}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t\t<Col md={3}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Ocupação</strong> - {item.occupation}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col md={3}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Endereço</strong> - {item.address && item.address.street}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t\t<Col md={3}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Bairro</strong> - {item.address && item.address.neighborhood}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t\t<Col md={3}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Cidade</strong> - {item.address && item.address.city.label}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t\t<Col md={3}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Estado</strong> - {item.address && item.address.state.label}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"mb-4\">\n\t\t\t\t<Col md={6}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Criado em</strong> - {dayjs(item.createdAt).format('DD/MM/YYYY HH:mm')} por{' '}\n\t\t\t\t\t\t{item.createdBy && item.createdBy.name}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t\t<Col md={6}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong>Atualizado em</strong> - {dayjs(item.updatedAt).format('DD/MM/YYYY HH:mm')} por{' '}\n\t\t\t\t\t\t{item.updatedBy && item.updatedBy.name}\n\t\t\t\t\t</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<p className=\"subtitle\">Consultas</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"mt-4\">\n\t\t\t\t<Col md={12}>\n\t\t\t\t\t<Table />\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</>\n\t);\n};\n\nexport default ClientDetail;\n"],"sourceRoot":""}