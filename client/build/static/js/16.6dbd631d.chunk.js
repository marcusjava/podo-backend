(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[16],{481:function(e,a,t){"use strict";t.r(a);var n=t(62),r=t.n(n),c=t(83),s=t(52),l=t(1),o=t.n(l),u=t(27),i=t(68),p=t(337),m=t(335),d=t(201),f=t(197),h=t(105),E=t(136),b=t(45),v=t(21),w=t(22),S=t.n(w);a.default=function(){var e=Object(l.useState)(!0),a=Object(s.a)(e,2),t=a[0],n=a[1],w=Object(l.useRef)(null),k=Object(u.useSelector)((function(e){return e.user.user})).credentials.id,y=Object(v.k)(),O=function(){var e=Object(c.a)(r.a.mark((function e(a,t){var c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.reset,e.prev=1,c=b.b().shape({password:b.d().required("Senha obrigatoria!").oneOf([b.c("password2"),null],"Senhas n\xe3o conferem!"),password2:b.d().required("Informe confirma\xe7\xe3o de senha")}),e.next=5,c.validate(a,{abortEarly:!1});case 5:return e.prev=5,e.next=8,S.a.put("/users/".concat(k,"/change_pwd"),a);case 8:200===e.sent.status&&(i.toastr.success("Senha alterada com sucesso"),n(!1),y.push("/inicio/principal")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),e.t1 instanceof b.a&&(s={},e.t1.inner.forEach((function(e){s[e.path]=e.message,w.current.setErrors(s)})));case 20:case"end":return e.stop()}}),e,null,[[1,17],[5,12]])})));return function(a,t){return e.apply(this,arguments)}}(),g=function(){n(!1),y.push("/inicio/principal")};return o.a.createElement(p.a,{size:"sm",show:t,onHide:g,centered:!0},o.a.createElement(p.a.Header,{closeButton:!0},o.a.createElement(p.a.Title,null,"Alterar Senha")),o.a.createElement(p.a.Body,null,o.a.createElement(h.a,{ref:w,onSubmit:O},o.a.createElement(m.a,null,o.a.createElement(d.a,null,o.a.createElement(E.e,{type:"password",name:"password",label:"Senha"}))),o.a.createElement(m.a,null,o.a.createElement(d.a,null,o.a.createElement(E.e,{type:"password",name:"password2",label:"Confirma Senha"}))),o.a.createElement(m.a,null,o.a.createElement(d.a,{md:12,className:"text-right"},o.a.createElement(f.a,{type:"submit",variant:"primary"},"Salvar"),o.a.createElement(f.a,{variant:"danger",onClick:g},"Cancelar"))))))}}}]);
//# sourceMappingURL=16.6dbd631d.chunk.js.map