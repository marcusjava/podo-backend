(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[9],{352:function(e,t,a){"use strict";var r=a(353),n=a.n(r);t.a=function(e){return new Promise((function(t){n.a.imageFileResizer(e,3280,2464,"JPEG",100,0,(function(e){t(e)}),"blob")}))}},353:function(e,t){e.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}a.r(t);var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a;return t=e,a=[{key:"changeHeightWidth",value:function(e,t,a,r,n,l){return a>r&&(e=Math.round(e*r/a),a=r),e>t&&(a=Math.round(a*t/e),e=t),n&&a<n&&(e=Math.round(e*n/a),a=n),l&&e<l&&(a=Math.round(a*l/e),e=l),{height:e,width:a}}},{key:"resizeAndRotateImage",value:function(e,t,a,r,n){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"jpeg",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=i/100,s=document.createElement("canvas"),c=e.width,u=e.height,m=this.changeHeightWidth(u,a,c,t,r,n);!o||90!==o&&270!==o?(s.width=m.width,s.height=m.height):(s.width=m.height,s.height=m.width),c=m.width,u=m.height;var p=s.getContext("2d");return o&&(p.rotate(o*Math.PI/180),90===o?p.translate(0,-s.width):180===o?p.translate(-s.width,-s.height):270===o?p.translate(-s.height,0):0!==o&&360!==o||p.translate(0,0)),p.drawImage(e,0,0,c,u),s.toDataURL("image/".concat(l),d)}},{key:"b64toBlob",value:function(e,t){t=t||"image/jpeg";for(var a=atob(e.toString().replace(/^data:image\/(png|jpeg|jpg);base64,/,"")),r=[],n=0;n<a.length;n+=512){for(var l=a.slice(n,n+512),i=new Array(l.length),o=0;o<l.length;o++)i[o]=l.charCodeAt(o);var d=new Uint8Array(i);r.push(d)}return new Blob(r,{type:t})}},{key:"createResizedImage",value:function(t,a,r,n,l,i,o){var d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"base64",s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,u=null,m=new FileReader;t?(m.readAsDataURL(t),m.onload=function(){var t=new Image;t.src=m.result,t.onload=function(){var m=e.resizeAndRotateImage(t,a,r,s,c,n,l,i);u=e.b64toBlob(m,"image/".concat(n)),o("blob"===d?u:m)}},m.onerror=function(e){o(e)}):o("File Not Found")}}],null&&r(t.prototype,null),a&&r(t,a),e}();t.default={imageFileResizer:function(e,t,a,r,l,i,o,d,s,c){return n.createResizedImage(e,t,a,r,l,i,o,d,s,c)}}}])},421:function(e,t,a){},482:function(e,t,a){"use strict";a.r(t);var r=a(42),n=a.n(r),l=a(68),i=a(41),o=a(1),d=a.n(o),s=(a(421),a(333)),c=a(197),u=a(193),m=a(84),p=a(29),h=a(345),f=a(85),b=a(10),g=a.n(b),E=a(49),y=a(24),w=a(105),v=function(e){var t=e.rowSelect,a=Object(y.useSelector)((function(e){return e.user.users})),r=a.items,n=a.loading,l=Object(y.useDispatch)();Object(o.useEffect)((function(){l(Object(E.b)())}),[l]);var i={mode:"radio",clickToSelect:!1,onSelect:function(e,a,r){return t(e)}};return 0==r.length||n?d.a.createElement(w.a,null):d.a.createElement(h.BootstrapTable,{data:r,striped:!0,hover:!0,version:"4",selectRow:i,pagination:!0,options:{noDataText:"N\xe3o h\xe1 itens a exibir"}},d.a.createElement(h.TableHeaderColumn,{isKey:!0,dataField:"id",hidden:!0},"Id"),d.a.createElement(h.TableHeaderColumn,{dataField:"avatar_url",dataFormat:function(e,t){return d.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},d.a.createElement("img",{src:e,alt:"Perfil",style:{width:"50px",height:"50px",borderRadius:50}}))},width:"90"},"Foto"),d.a.createElement(h.TableHeaderColumn,{dataField:"name",dataSort:!0},"Nome",d.a.createElement("br",null),d.a.createElement("input",{type:"text",style:{width:"140px"},className:"filter text-filter form-control",onChange:function(e){var t=e.target.value;l(t?Object(E.b)({name:t}):Object(E.b)())}})),d.a.createElement(h.TableHeaderColumn,{dataField:"email",dataSort:!0},"Email",d.a.createElement("br",null),d.a.createElement("input",{type:"text",className:"filter text-filter form-control",style:{width:"140px"},onChange:function(e){var t=e.target.value;l(t?Object(E.b)({email:t}):Object(E.b)())}})),d.a.createElement(h.TableHeaderColumn,{dataField:"phone",width:"120"},"Contato",d.a.createElement("br",null),d.a.createElement("input",{type:"text",className:"filter text-filter form-control",style:{width:"100px"},onChange:function(e){var t=e.target.value;l(t?Object(E.b)({contact:t}):Object(E.b)())}})),d.a.createElement(h.TableHeaderColumn,{dataField:"address",dataFormat:function(e,t){return e.street}},"Rua"),d.a.createElement(h.TableHeaderColumn,{dataField:"address",dataFormat:function(e,t){return e.neighborhood}},"Bairro"),d.a.createElement(h.TableHeaderColumn,{dataField:"address",dataFormat:function(e,t){return e.city}},"Cidade"),d.a.createElement(h.TableHeaderColumn,{dataField:"address",dataFormat:function(e,t){return e.state},width:"90"},"Estado"),d.a.createElement(h.TableHeaderColumn,{dataField:"status",width:"90",dataFormat:function(e,t){return d.a.createElement("span",{className:g()({badge:!0,"badge-primary":"0"===e.value,"badge-danger":"1"===e.value})},e.label)}},"Status"),d.a.createElement(h.TableHeaderColumn,{dataFormat:function(e,t){return d.a.createElement(f.g,{id:t.id})},width:"90"},"A\xe7\xf5es"))},x=a(352);t.default=function(){var e=Object(o.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],h=Object(o.useState)(!0),b=Object(i.a)(h,2),g=b[0],w=b[1],F=Object(o.useRef)(null),j=Object(y.useSelector)((function(e){return e.user.user})),O=Object(y.useDispatch)();Object(o.useEffect)((function(){if(!0===j.success&&0==Object.keys(j.error).length&&(r(!1),F.current.setErrors({}),F.current.reset()),Object.keys(j.error).length>0){var e={};e[j.error.path]=j.error.message,F.current.setErrors(e)}}),[j.success,j.error]);var C=function(){var e=Object(l.a)(n.a.mark((function e(t,r){var l,i,o,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.reset,console.log(t),e.prev=2,l=g?p.b().shape({name:p.d().required("Nome obrigatorio"),email:p.d().email("Formato incorreto!").required("Email obrigatorio!"),cpf:p.d().required("Informe o cpf"),address:p.b().shape({street:p.d().required("Rua obrigatoria"),neighborhood:p.d().required("Bairro obrigatorio"),city:p.d().required("Cidade obrigatoria"),state:p.d().required("Estado obrigatoria")}),password:p.d().required("Senha obrigatoria!").oneOf([p.c("password2"),null],"Senhas n\xe3o conferem!"),password2:p.d().required("Informe confirma\xe7\xe3o de senha")}):p.b().shape({name:p.d().required("Nome obrigatorio"),email:p.d().email("Formato incorreto!").required("Email obrigatorio!"),cpf:p.d().required("Informe o cpf"),address:p.b().shape({street:p.d().required("Rua obrigatoria"),neighborhood:p.d().required("Bairro obrigatorio"),city:p.d().required("Cidade obrigatoria"),state:p.d().required("Estado obrigatoria")})}),e.next=6,l.validate(t,{abortEarly:!1});case 6:return e.next=8,Object(x.a)(t.thumbnail);case 8:i=e.sent,(o=new FormData).append("thumbnail",i||null),o.append("name",t.name),o.append("phone",t.phone),o.append("nasc",t.nasc),o.append("cpf",t.cpf),o.append("rg",t.rg),o.append("email",t.email),o.append("address",JSON.stringify(t.address)),g&&(o.append("password",t.password),o.append("password2",t.password2)),o.append("role",JSON.stringify(t.role)),o.append("status",JSON.stringify(t.status)),O(a?Object(E.g)(t.id,o):Object(E.e)(o)),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),e.t0 instanceof p.a&&(d={},e.t0.inner.forEach((function(e){d[e.path]=e.message,F.current.setErrors(d)})));case 27:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(t,a){return e.apply(this,arguments)}}();return d.a.createElement(o.Fragment,null,d.a.createElement(s.a,null,d.a.createElement(c.a,{m4:4},d.a.createElement("p",{className:"title text-center"},"Cadastro Usuarios"))),d.a.createElement(m.a,{ref:F,onSubmit:C,autoComplete:"off"},d.a.createElement(s.a,{className:"justify-content-center"},d.a.createElement(c.a,{md:2},d.a.createElement(f.d,{name:"thumbnail"}))),d.a.createElement(s.a,null,d.a.createElement(c.a,{md:6},d.a.createElement(f.e,{name:"id",hidden:!0}),d.a.createElement(f.e,{name:"name",label:"Nome",style:{width:"80%"},maxLength:150})),d.a.createElement(c.a,{md:6,className:"d-inline-flex "},d.a.createElement(f.f,{name:"phone",label:"Contato",mask:"99 99999-9999",style:{width:"200px",marginRight:"5px"}}),d.a.createElement(f.f,{label:"CPF",mask:"99999999999",name:"cpf",style:{width:"80%"}}))),d.a.createElement(s.a,null,d.a.createElement(c.a,{md:6,className:"d-inline-flex"},d.a.createElement(f.f,{name:"rg",label:"RG",mask:"99999999",style:{width:"180px",marginRight:"25px"}}),d.a.createElement(f.f,{name:"nasc",mask:"99/99/9999",style:{width:"200px"},label:"Nascimento"}))),d.a.createElement(s.a,null,d.a.createElement(c.a,{md:6},d.a.createElement(f.e,{name:"email",type:"email",label:"Email",style:{width:"50%"},maxLength:100})),d.a.createElement(c.a,{md:6,className:"d-inline-flex"},d.a.createElement(f.a,{name:"role.Administrador",label:"Administrador"}),d.a.createElement(f.a,{name:"role.Usuario",label:"Usuario"}))),d.a.createElement(s.a,null,d.a.createElement(c.a,{md:6,className:"d-inline-flex"},d.a.createElement(f.e,{name:"address.street",style:{width:"340px",marginRight:"5px"},label:"Rua",maxLength:100}),d.a.createElement(f.e,{name:"address.neighborhood",style:{width:"280px"},label:"Bairro",maxLength:70})),d.a.createElement(c.a,{md:6,className:"d-inline-flex "},d.a.createElement(f.e,{name:"address.city",style:{width:"280px",marginRight:"5px"},label:"Cidade",maxLength:70}),d.a.createElement(f.e,{name:"address.state",style:{width:"50px"},label:"Estado",maxLength:2}))),d.a.createElement(s.a,null,d.a.createElement(c.a,{md:6,className:"d-inline-flex "},d.a.createElement(f.e,{name:"address.cep",style:{width:"160px",marginRight:"5px"},label:"CEP"})),d.a.createElement(c.a,{md:2},d.a.createElement(f.h,{label:"Status",name:"status",style:{width:200},options:[{value:0,label:"Ativo"},{value:1,label:"Inativo"}]})),d.a.createElement(c.a,null,d.a.createElement("input",{style:{display:"none"},type:"text",name:"fakeusernameremembered"}))),d.a.createElement(s.a,null,g?d.a.createElement(c.a,{md:6,className:"d-inline-flex"},d.a.createElement(f.e,{autoComplete:"off",name:"password",type:"password",style:{width:"200px",marginRight:"10px"},label:"Senha"}),d.a.createElement(f.e,{autoComplete:"off",name:"password2",type:"password",style:{width:"200px"},label:"Confirma Senha"}),a&&g&&d.a.createElement("button",{className:"btn btn-link",onClick:function(){return w(!1)}},"Cancelar")):d.a.createElement("button",{className:"btn btn-link",onClick:function(){return w(!0)}},"Alterar senha")),d.a.createElement(s.a,null,d.a.createElement(c.a,{md:6}),d.a.createElement(c.a,{md:6,className:"text-right"},d.a.createElement(u.a,{type:"submit",variant:"primary",disabled:j.loading},a?"Atualizar":"Salvar"),d.a.createElement(u.a,{variant:"danger",onClick:function(){return window.location.reload()}},"Cancelar")),d.a.createElement(c.a,{md:6}))),d.a.createElement(s.a,null,d.a.createElement(c.a,{md:12,className:"my-4"},d.a.createElement(v,{rowSelect:function(e){r(!0),w(!1),F.current.setFieldValue("id",e.id),F.current.setFieldValue("name",e.name),F.current.setFieldValue("phone",e.phone),F.current.setFieldValue("cpf",e.cpf),F.current.setFieldValue("email",e.email),F.current.setFieldValue("rg",e.rg),F.current.setFieldValue("nasc",e.nasc),F.current.setFieldValue("role.Administrador",e.role.Administrador),F.current.setFieldValue("role.Usuario",e.role.Usuario),F.current.setFieldValue("address.street",e.address.street),F.current.setFieldValue("address.neighborhood",e.address.neighborhood),F.current.setFieldValue("address.city",e.address.city),F.current.setFieldValue("address.state",e.address.state),F.current.setFieldValue("address.cep",e.address.cep),F.current.setFieldValue("address.nasc",e.address.nasc),F.current.setFieldValue("status",e.status)}}))))}}}]);
//# sourceMappingURL=9.1b23be0a.chunk.js.map