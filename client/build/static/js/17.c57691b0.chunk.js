(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[17],{483:function(e,t,a){"use strict";a.r(t);var r=a(42),n=a.n(r),c=a(68),s=a(41),o=a(1),i=a.n(o),l=a(333),u=a(197),d=a(193),m=a(84),p=a(29),f=a(85),v=a(27),b=a(345),E=function(e){var t=e.data,a=e.rowSelect,r={mode:"radio",clickToSelect:!1,onSelect:function(e,t,r){return a(e,t)}};return i.a.createElement(b.BootstrapTable,{data:t,striped:!0,hover:!0,version:"4",selectRow:r,pagination:!0,options:{noDataText:"N\xe3o h\xe1 itens a exibir"}},i.a.createElement(b.TableHeaderColumn,{isKey:!0,dataField:"_id",hidden:!0},"Id"),i.a.createElement(b.TableHeaderColumn,{dataField:"description",filter:{type:"TextFilter",delay:1e3},dataSort:!0,width:"500px"},"Descri\xe7\xe3o"),i.a.createElement(b.TableHeaderColumn,{dataField:"observations"},"Observa\xe7\xf5es"))},h=a(21),w=a.n(h);t.default=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],b=Object(o.useState)([]),h=Object(s.a)(b,2),x=h[0],y=h[1],S=Object(o.useRef)(null);function g(){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/services");case 2:t=e.sent,y(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(o.useEffect)((function(){g()}),[]);var j=function(){var e=Object(c.a)(n.a.mark((function e(t){var a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=p.b().shape({description:p.d().required("Descri\xe7\xe3o obrigatoria")}),e.next=4,a.validate(t,{abortEarly:!1});case 4:w.a.post("/services",t).then((function(e){v.toastr.success("Servi\xe7o criado com sucesso"),S.current.reset(),r(!1),S.current.setErrors({}),g()})).catch((function(e){var t={},a=e.response.data,r=a.path,n=a.message;t[r]=n,S.current.setErrors(t),v.toastr.error(n)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof p.a&&(c={},e.t0.inner.forEach((function(e){c[e.path]=e.message,S.current.setErrors(c)})));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(n.a.mark((function e(t){var a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=p.b().shape({description:p.d().required("Descri\xe7\xe3o obrigatoria")}),e.next=4,a.validate(t,{abortEarly:!1});case 4:w.a.put("/services/".concat(t._id),t).then((function(e){v.toastr.success("Servi\xe7o criado com sucesso"),S.current.reset(),r(!1),g(),S.current.setErrors({})})).catch((function(e){var t=e.response.data;console.log(t)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof p.a&&(c={},e.t0.inner.forEach((function(e){c[e.path]=e.message,S.current.setErrors(c)})));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{clas:"justify-content-center"},i.a.createElement(u.a,{md:12,className:"text-center"},i.a.createElement("p",{className:"title"},"Cadastro Servi\xe7os"))),i.a.createElement(m.a,{ref:S,onSubmit:function(e){a?k(e):j(e)}},i.a.createElement(l.a,null,i.a.createElement(u.a,{md:6},i.a.createElement(f.e,{name:"_id",hidden:!0}),i.a.createElement(f.e,{name:"description",label:"Descri\xe7\xe3o",style:{width:"60%"}}),i.a.createElement(f.i,{name:"observations",label:"Observa\xe7\xf5es",rows:"5",cols:"33"}))),i.a.createElement(l.a,null,i.a.createElement(u.a,{md:6,className:"text-right"},i.a.createElement(d.a,{type:"submit",variant:"primary"},a?"Atualizar":"Salvar"),i.a.createElement(d.a,{variant:"danger",onClick:function(){return window.location.reload()}},"Cancela")))),i.a.createElement(l.a,{className:"my-4"},i.a.createElement(u.a,{md:12},i.a.createElement(E,{data:x,rowSelect:function(e,t){r(!0),S.current.setData(e)}}))))}}}]);
//# sourceMappingURL=17.c57691b0.chunk.js.map