{"version":3,"sources":["redux/actions/consultActions.js","redux/actions/procedureActions.js","pages/Consult/EditConsult.js","pages/Consult/Table.js","components/common/Form/CustomClientOptions.js","pages/Consult/AddConsult.js","pages/Dashboard/index.js"],"names":["updateConsult","data","dispatch","type","FETCH_CONSULT_REQUEST","axios","put","_id","then","response","FETCH_CONSULT_SUCCESS","payload","toastr","success","consults","catch","error","FETCH_CONSULT_ERROR","message","query","FETCH_CONSULTS_REQUEST","get","params","FETCH_CONSULTS_SUCCESS","FETCH_CONSULTS_ERROR","saveProcedure","FETCH_PROCEDURE_REQUEST","post","FETCH_PROCEDURE_SUCCESS","Procedures","FETCH_PROCEDURE_ERROR","updateProcedure","id","FETCH_PROCEDURES_REQUEST","FETCH_PROCEDURES_SUCCESS","FETCH_PROCEDURES_ERROR","dayjs","extend","utc","EditConsult","initial","useState","show","setShow","clients","useSelector","state","client","procedures","procedure","useDispatch","formRef","useRef","useEffect","Clients","handleSubmit","a","schema","Yup","shape","date","required","ensure","type_consult","validate","abortEarly","sendData","format","value","map","observations","status","console","log","current","setErrors","reset","errorMessages","path","inner","forEach","erro","OverlayTrigger","placement","overlay","Tooltip","className","onClick","size","Modal","onHide","Header","closeButton","Title","Body","ref","initialData","parseISO","label","name","onSubmit","Row","Col","md","placeholderText","options","onInputChange","input","length","clientInputChange","isMulti","rows","col","Button","variant","registerLocale","br","Table","client_id","consult","items","loading","undefined","dateI","setDateI","dateF","setDateF","setClient","table","filterDateFields","selected","onChange","fixedHeight","isClearable","dateFormat","locale","e","preventDefault","start","end","Spinner","striped","hover","version","pagination","noDataText","isKey","dataField","hidden","width","dataFormat","cell","row","toString","href","avatar_url","rel","target","src","alt","style","height","borderRadius","to","placeholder","onInput","filtered","contact","proc","idx","key","Badge","dataSort","window","confirm","cancelConsult","color","CustomClientOptions","props","Option","avatar","AddConsult","Date","now","minDate","showTimeSelect","components","Dashboard","Container","fluid","as","Link"],"mappings":"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","file":"static/js/12.d4605b28.chunk.js","sourcesContent":["import {\n\tSET_CONSULT,\n\tFETCH_CONSULT_REQUEST,\n\tFETCH_CONSULT_SUCCESS,\n\tFETCH_CONSULT_ERROR,\n\tFETCH_CONSULTS_REQUEST,\n\tFETCH_CONSULTS_SUCCESS,\n\tFETCH_CONSULTS_ERROR,\n} from '../types';\n\nimport { toastr } from 'react-redux-toastr';\n\nimport axios from 'axios';\n\nexport const saveConsult = (data) => (dispatch) => {\n\tdispatch({ type: FETCH_CONSULT_REQUEST });\n\treturn axios\n\t\t.post('/consults', data)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_CONSULT_SUCCESS, payload: response.data });\n\t\t\ttoastr.success('Consulta salva com sucesso');\n\t\t\t//dispatch(consults());\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_CONSULT_ERROR, payload: error.response.data });\n\t\t\ttoastr.error(error.response.data.message);\n\t\t});\n};\n\nexport const setConsult = (data) => (dispatch) => {\n\tdispatch({ type: SET_CONSULT, payload: data });\n};\n\nexport const updateConsult = (data) => (dispatch) => {\n\tdispatch({ type: FETCH_CONSULT_REQUEST });\n\n\treturn axios\n\t\t.put(`/consults/${data._id}`, data)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_CONSULT_SUCCESS, payload: response.data });\n\t\t\ttoastr.success('Consulta atualizada com sucesso');\n\t\t\tdispatch(consults());\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_CONSULT_ERROR, payload: error.response.data });\n\t\t\ttoastr.error(error.response.data.message);\n\t\t});\n};\n\nexport const consults = (query) => (dispatch) => {\n\tdispatch({ type: FETCH_CONSULTS_REQUEST });\n\n\treturn axios\n\t\t.get(`/consults`, { params: query })\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_CONSULTS_SUCCESS, payload: response.data });\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_CONSULTS_ERROR, payload: error.response.data });\n\t\t\ttoastr.error(error.response.data.message);\n\t\t});\n};\n\nexport const getConsult = (id) => (dispatch) => {\n\tdispatch({ type: FETCH_CONSULT_REQUEST });\n\treturn axios\n\t\t.get(`/consults/${id}`)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_CONSULT_SUCCESS, payload: response.data });\n\t\t})\n\t\t.catch((error) => dispatch({ type: FETCH_CONSULT_ERROR, payload: error.response.data }));\n};\n\nexport const searchConsults = (input) => (dispatch) => {\n\tdispatch({ type: FETCH_CONSULTS_REQUEST });\n\treturn axios\n\t\t.get(`/consults/search/?search=${input}`)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_CONSULTS_SUCCESS, payload: response.data });\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_CONSULTS_ERROR, payload: error.response.data });\n\t\t});\n};\n","import {\n\tFETCH_PROCEDURE_REQUEST,\n\tFETCH_PROCEDURE_SUCCESS,\n\tFETCH_PROCEDURE_ERROR,\n\tFETCH_PROCEDURES_REQUEST,\n\tFETCH_PROCEDURES_SUCCESS,\n\tFETCH_PROCEDURES_ERROR,\n} from '../types';\n\nimport { toastr } from 'react-redux-toastr';\n\nimport axios from 'axios';\n\nexport const saveProcedure = (data) => (dispatch) => {\n\tdispatch({ type: FETCH_PROCEDURE_REQUEST });\n\n\treturn axios\n\t\t.post('/procedures', data)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURE_SUCCESS, payload: response.data });\n\t\t\ttoastr.success('Procedimento salvo com sucesso');\n\t\t\tdispatch(Procedures());\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURE_ERROR, payload: error.response.data });\n\t\t\ttoastr.error(error.response.data.message);\n\t\t});\n};\n\nexport const updateProcedure = (data, id) => (dispatch) => {\n\tdispatch({ type: FETCH_PROCEDURE_REQUEST });\n\n\treturn axios\n\t\t.put(`/procedures/${id}`, data)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURE_SUCCESS, payload: response.data });\n\t\t\ttoastr.success('Procedimento atualizado com sucesso');\n\t\t\tdispatch(Procedures());\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURE_ERROR, payload: error.response.data });\n\t\t\ttoastr.error(error.response.data.message);\n\t\t});\n};\n\nexport const deletePhoto = (id, photo) => (dispatch) => {\n\tdispatch({ type: FETCH_PROCEDURE_REQUEST });\n\n\treturn axios\n\t\t.put(`/procedures/${id}/photos`, { photo: photo })\n\t\t.then((response) => {\n\t\t\t//dispatch({ type: FETCH_PROCEDURE_SUCCESS, payload: response.data });\n\t\t\ttoastr.success('Foto excluida com sucesso');\n\t\t\tdispatch(Procedures());\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURE_ERROR, payload: error.response.data });\n\t\t\ttoastr.error(error.response.data.message);\n\t\t});\n};\n\nexport const Procedures = () => (dispatch) => {\n\tdispatch({ type: FETCH_PROCEDURES_REQUEST });\n\n\treturn axios\n\t\t.get('/procedures')\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURES_SUCCESS, payload: response.data });\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURES_ERROR, payload: error.response.data });\n\t\t});\n};\n\nexport const searchProcedures = (input) => (dispatch) => {\n\tdispatch({ type: FETCH_PROCEDURES_REQUEST });\n\n\treturn axios\n\t\t.get(`/procedures/search/?search=${input}`)\n\t\t.then((response) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURES_SUCCESS, payload: response.data });\n\t\t})\n\t\t.catch((error) => {\n\t\t\tdispatch({ type: FETCH_PROCEDURES_ERROR, payload: error.response.data });\n\t\t});\n};\n","import React, { useState, useEffect, useRef } from 'react';\nimport { toastr } from 'react-redux-toastr';\nimport { useSelector, useDispatch } from 'react-redux';\nimport utc from 'dayjs/plugin/utc';\nimport dayjs from 'dayjs';\nimport { Row, Col, Button, Modal, Tooltip, OverlayTrigger } from 'react-bootstrap';\nimport { Clients } from '../../redux/actions/clientActions';\nimport { Form } from '@unform/web';\nimport { DatePicker, TextArea, Select, Input } from '../../components/common/Form';\nimport * as Yup from 'yup';\nimport { consults } from '../../redux/actions/consultActions';\nimport { Procedures } from '../../redux/actions/procedureActions';\nimport { FaEdit } from 'react-icons/fa';\nimport axios from 'axios';\nimport { parseISO } from 'date-fns';\nimport './styles.css';\n\ndayjs.extend(utc);\n\nfunction EditConsult({ initial }) {\n\tconst [show, setShow] = useState(false);\n\tconst { clients } = useSelector((state) => state.client);\n\tconst { procedures } = useSelector((state) => state.procedure);\n\tconst dispatch = useDispatch();\n\n\tconst formRef = useRef(null);\n\n\tuseEffect(() => {\n\t\tdispatch(Clients());\n\t\tdispatch(Procedures());\n\t}, [dispatch]);\n\n\tconst handleSubmit = async (data) => {\n\t\ttry {\n\t\t\tconst schema = Yup.object().shape({\n\t\t\t\tdate: Yup.string().required('Informe a data da consulta'),\n\t\t\t\tclient: Yup.string().ensure().required('Informe o cliente'),\n\t\t\t\tprocedures: Yup.string().ensure().required('Informe os procedimentos'),\n\t\t\t\ttype_consult: Yup.string().ensure().required('Informe o tipo de consulta'),\n\t\t\t});\n\t\t\tawait schema.validate(data, { abortEarly: false });\n\t\t\tconst sendData = {\n\t\t\t\t_id: data._id,\n\t\t\t\tdate: dayjs(data.date).format('YYYY-MM-DDTHH:mm:ss.sssZ'),\n\t\t\t\tclient: data.client.value,\n\t\t\t\tprocedures: data.procedures.map((procedure) => procedure.value),\n\t\t\t\ttype_consult: data.type_consult,\n\t\t\t\tobservations: data.observations,\n\t\t\t\tstatus: data.status,\n\t\t\t};\n\t\t\ttry {\n\t\t\t\tconst response = await axios.put(`/consults/${sendData._id}`, sendData);\n\t\t\t\tconsole.log(response);\n\t\t\t\tif (response.status === 200) {\n\t\t\t\t\tdispatch(consults());\n\t\t\t\t\ttoastr.success('Consulta atualizada com sucesso');\n\t\t\t\t\tformRef.current.setErrors({});\n\t\t\t\t\tformRef.current.reset();\n\t\t\t\t\tsetShow(false);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconst { data } = error.response;\n\t\t\t\tconst errorMessages = {};\n\t\t\t\terrorMessages[data.path] = data.message;\n\t\t\t\tformRef.current.setErrors(errorMessages);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (error instanceof Yup.ValidationError) {\n\t\t\t\tconst errorMessages = {};\n\t\t\t\terror.inner.forEach((erro) => {\n\t\t\t\t\terrorMessages[erro.path] = erro.message;\n\t\t\t\t\tformRef.current.setErrors(errorMessages);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tconst clientInputChange = (input) => {\n\t\tif (input.length >= 3) {\n\t\t\tdispatch(Clients({ name: input }));\n\t\t}\n\t\tif (input.length === 0) {\n\t\t\tdispatch(Clients());\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"edit\"> Editar consulta</Tooltip>}>\n\t\t\t\t<button className=\"btn btn-link\" onClick={() => setShow(true)}>\n\t\t\t\t\t<FaEdit size={20} />\n\t\t\t\t</button>\n\t\t\t</OverlayTrigger>\n\n\t\t\t<Modal size=\"lg\" show={show} onHide={() => setShow(false)}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>Editar consulta</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form\n\t\t\t\t\t\tref={formRef}\n\t\t\t\t\t\tinitialData={{\n\t\t\t\t\t\t\t_id: initial._id,\n\t\t\t\t\t\t\tdate: parseISO(initial.date),\n\t\t\t\t\t\t\tclient: { value: initial.client._id, label: initial.client.name },\n\t\t\t\t\t\t\tprocedures: initial.procedures.map((procedure) => ({\n\t\t\t\t\t\t\t\tvalue: procedure._id,\n\t\t\t\t\t\t\t\tlabel: procedure.name,\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\ttype_consult: initial.type_consult,\n\t\t\t\t\t\t\tstatus: initial.status,\n\t\t\t\t\t\t\tobservations: initial.observations,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Input type=\"hidden\" name=\"_id\" />\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t\t<DatePicker placeholderText=\"Data/hora\" name=\"date\" />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tlabel=\"Cliente\"\n\t\t\t\t\t\t\t\t\tname=\"client\"\n\t\t\t\t\t\t\t\t\toptions={clients.options}\n\t\t\t\t\t\t\t\t\tonInputChange={(input) => clientInputChange(input)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t\t<Select label=\"Procedimentos\" isMulti name=\"procedures\" options={procedures.options} />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={3}>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tlabel=\"Tipo consulta\"\n\t\t\t\t\t\t\t\t\tname=\"type_consult\"\n\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t{ label: 'Agendada', value: 0 },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Retorno', value: 1 },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Urgência', value: 2 },\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={3}>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tlabel=\"Status\"\n\t\t\t\t\t\t\t\t\tname=\"status\"\n\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t{ value: 2, label: 'Cancelada' },\n\t\t\t\t\t\t\t\t\t\t{ value: 3, label: 'Remarcada' },\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={12}>\n\t\t\t\t\t\t\t\t<TextArea rows={10} col={15} label=\"Observações\" name=\"observations\" />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={12} className=\"text-right\">\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">\n\t\t\t\t\t\t\t\t\tSalvar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button variant=\"danger\" onClick={() => setShow(false)}>\n\t\t\t\t\t\t\t\t\tCancelar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t</>\n\t);\n}\n\nexport default EditConsult;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { BootstrapTable, TableHeaderColumn, ExportCSVButton } from 'react-bootstrap-table';\nimport { Badge, Button, Tooltip, OverlayTrigger } from 'react-bootstrap';\nimport { consults, updateConsult } from '../../redux/actions/consultActions';\nimport DatePicker, { registerLocale } from 'react-datepicker';\nimport { IoIosSearch, IoMdCloseCircle } from 'react-icons/io';\nimport { FaBriefcaseMedical, FaPrint } from 'react-icons/fa';\nimport { useDispatch, useSelector } from 'react-redux';\nimport dayjs from 'dayjs';\nimport { Link } from 'react-router-dom';\nimport EditConsult from './EditConsult';\nimport br from 'date-fns/locale/pt-BR';\nimport { toastr } from 'react-redux-toastr';\nimport Spinner from '../../components/common/Spinner';\nimport './styles.css';\n\nregisterLocale('pt-br', br);\n\nconst Table = ({ client_id }) => {\n\tconst dispatch = useDispatch();\n\tconst { items, loading } = useSelector((state) => state.consult.consults);\n\n\tconst [dateI, setDateI] = useState(undefined);\n\tconst [dateF, setDateF] = useState(undefined);\n\tconst [client, setClient] = useState('');\n\n\tconst table = useRef(null);\n\n\tconst proceduresFormat = (cell, row) => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<ul className=\"list-unstyled\">\n\t\t\t\t\t{cell.map((proc, idx) => (\n\t\t\t\t\t\t<li key={idx}>\n\t\t\t\t\t\t\t<Badge variant=\"success\">\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">{proc.name}</span>\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst typeFormat = (cell, row) => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{cell.value === '0' ? (\n\t\t\t\t\t<Badge variant=\"primary\">Agendada</Badge>\n\t\t\t\t) : cell.value === '1' ? (\n\t\t\t\t\t<Badge variant=\"success\">Retorno</Badge>\n\t\t\t\t) : (\n\t\t\t\t\t<Badge variant=\"danger\">Urgência</Badge>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst statusFormat = (cell, row) => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{cell.value === '0' ? (\n\t\t\t\t\t<Badge variant=\"warning\">Marcada</Badge>\n\t\t\t\t) : cell.value === '1' ? (\n\t\t\t\t\t<Badge variant=\"success\">Realizada</Badge>\n\t\t\t\t) : cell.value === '2' ? (\n\t\t\t\t\t<Badge variant=\"danger\">Cancelada</Badge>\n\t\t\t\t) : (\n\t\t\t\t\t<Badge variant=\"primary\">Remarcada</Badge>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst cancelConsult = (e, row) => {\n\t\te.preventDefault();\n\t\tif (row.status.value === '1') {\n\t\t\ttoastr.error('Consulta realizada não pode ser cancelada!');\n\t\t\treturn;\n\t\t}\n\t\tif (row.status.value === '2') {\n\t\t\ttoastr.error('Consulta já se encontra cancelada!');\n\t\t\treturn;\n\t\t}\n\t\tconst confirm = window.confirm('Tem certeza que deseja cancelar a consulta?');\n\t\tif (confirm === true) {\n\t\t\trow.status = { value: 2, label: 'Cancelada' };\n\t\t\tdispatch(updateConsult(row));\n\t\t}\n\t};\n\n\tconst actionsFormat = (cell, row) => {\n\t\treturn (\n\t\t\t<div className=\"list-inline\">\n\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"edit\">Cancelar Consulta</Tooltip>}>\n\t\t\t\t\t<button className=\"btn btn-link\" onClick={(e) => cancelConsult(e, row)}>\n\t\t\t\t\t\t<IoMdCloseCircle size={20} color=\"red\" />\n\t\t\t\t\t</button>\n\t\t\t\t</OverlayTrigger>\n\n\t\t\t\t{row.status.value !== '2' && (\n\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"edit\"> Realizar consulta</Tooltip>}>\n\t\t\t\t\t\t<Link to={`/inicio/consulta/${row.id}`}>\n\t\t\t\t\t\t\t<FaBriefcaseMedical size={20} color=\"#62B3B1\" />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t)}\n\t\t\t\t<EditConsult initial={row} />\n\t\t\t\t{row.status.value !== '2' && row.status.value === '1' && (\n\t\t\t\t\t<OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"edit\">Imprimir Ficha</Tooltip>}>\n\t\t\t\t\t\t<Link to={`/ficha/${row.id}`}>\n\t\t\t\t\t\t\t<FaPrint size={20} />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst filterDateHandle = (e) => {\n\t\te.preventDefault();\n\t\tconst start = dateI && dayjs(dateI).format('YYYY-MM-DDTHH:mm:ss.sssZ');\n\t\tconst end = dateF && dayjs(dateF).format('YYYY-MM-DDTHH:mm:ss.sssZ');\n\t\tdispatch(consults({ start, end }));\n\t};\n\n\tconst filterClientChange = (e) => {\n\t\tconst filtered = e.target.value;\n\t\tconst start = dateI && dayjs(dateI).format('YYYY-MM-DDTHH:mm:ss.sssZ');\n\t\tconst end = dateF && dayjs(dateF).format('YYYY-MM-DDTHH:mm:ss.sssZ');\n\t\tif (filtered.length >= 3) {\n\t\t\tdispatch(consults({ start, end, client }));\n\t\t}\n\t\tif (filtered.length === 0) {\n\t\t\tdispatch(consults());\n\t\t}\n\t};\n\n\tconst filterDateFields = (\n\t\t<div className=\"form-inline\">\n\t\t\t<DatePicker\n\t\t\t\tplaceholderText=\"Data Inicial\"\n\t\t\t\tselected={dateI}\n\t\t\t\tonChange={(date) => setDateI(date)}\n\t\t\t\tfixedHeight\n\t\t\t\tclassName=\"only-hour\"\n\t\t\t\tname=\"dateI\"\n\t\t\t\tisClearable={true}\n\t\t\t\tdateFormat=\"dd/MM/yyyy\"\n\t\t\t\tlocale=\"pt-br\"\n\t\t\t/>\n\n\t\t\t<DatePicker\n\t\t\t\tplaceholderText=\"Data Final\"\n\t\t\t\tselected={dateF}\n\t\t\t\tonChange={(date) => setDateF(date)}\n\t\t\t\tfixedHeight\n\t\t\t\tclassName=\"only-hour\"\n\t\t\t\tname=\"dateF\"\n\t\t\t\tisClearable={true}\n\t\t\t\tdateFormat=\"dd/MM/yyyy\"\n\t\t\t\tlocale=\"pt-br\"\n\t\t\t/>\n\t\t\t<Button type=\"button\" onClick={filterDateHandle}>\n\t\t\t\t<IoIosSearch size={20} />\n\t\t\t</Button>\n\t\t</div>\n\t);\n\n\treturn loading ? (\n\t\t<Spinner />\n\t) : (\n\t\t<>\n\t\t\t<BootstrapTable\n\t\t\t\tdata={items}\n\t\t\t\tstriped\n\t\t\t\thover\n\t\t\t\tversion=\"4\"\n\t\t\t\tref={table}\n\t\t\t\tpagination\n\t\t\t\toptions={{ noDataText: 'Não há itens a exibir' }}\n\t\t\t>\n\t\t\t\t<TableHeaderColumn isKey dataField=\"id\" hidden>\n\t\t\t\t\tId\n\t\t\t\t</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn\n\t\t\t\t\tdataField=\"date\"\n\t\t\t\t\twidth=\"300\"\n\t\t\t\t\tdataFormat={(cell, row) => (\n\t\t\t\t\t\t<p className=\"font-weight-bold\">{dayjs(cell).format('DD/MM/YYYY HH:mm').toString()}</p>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\tData\n\t\t\t\t\t<br />\n\t\t\t\t\t{filterDateFields}\n\t\t\t\t</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn\n\t\t\t\t\tdataField=\"client\"\n\t\t\t\t\tdataFormat={(cell, row) => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<a href={cell.avatar_url} rel=\"noopener noreferrer\" className=\"mr-1\" target=\"_blank\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={cell.avatar_url}\n\t\t\t\t\t\t\t\t\talt=\"Perfil\"\n\t\t\t\t\t\t\t\t\tstyle={{ width: '40px', height: '40px', borderRadius: 50 }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<Link to={`/inicio/clientes/detalhes/${cell._id}`}>{cell.name}</Link>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\tCliente\n\t\t\t\t\t<br />\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Digite o nome\"\n\t\t\t\t\t\tonChange={(e) => setClient(e.target.value)}\n\t\t\t\t\t\tonInput={filterClientChange}\n\t\t\t\t\t\tvalue={client}\n\t\t\t\t\t/>\n\t\t\t\t</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn\n\t\t\t\t\twidth=\"120\"\n\t\t\t\t\tdataField=\"client\"\n\t\t\t\t\tdataFormat={(cell, row) => <label>{cell.contact}</label>}\n\t\t\t\t>\n\t\t\t\t\tTelefone\n\t\t\t\t</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn dataField=\"procedures\" dataFormat={proceduresFormat}>\n\t\t\t\t\tProcedimentos\n\t\t\t\t</TableHeaderColumn>\n\n\t\t\t\t<TableHeaderColumn dataField=\"observations\">Observações</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn dataField=\"type_consult\" width=\"120\" dataFormat={typeFormat}>\n\t\t\t\t\tTipo consulta\n\t\t\t\t</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn dataField=\"status\" dataFormat={statusFormat} width=\"100\" dataSort>\n\t\t\t\t\tStatus\n\t\t\t\t</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn width=\"160\" dataFormat={actionsFormat}>\n\t\t\t\t\tAções\n\t\t\t\t</TableHeaderColumn>\n\t\t\t</BootstrapTable>\n\t\t</>\n\t);\n};\n\nexport default Table;\n","import React from 'react';\n\nimport { components } from 'react-select';\n\nconst CustomClientOptions = (props) => {\n\tconst { data } = props;\n\treturn (\n\t\t<components.Option {...props}>\n\t\t\t<img src={data.avatar} alt=\"Perfil\" style={{ width: '40px', height: '40px', borderRadius: 50 }} />\n\t\t\t<label className=\"ml-1\">{data.label}</label>\n\t\t</components.Option>\n\t);\n};\n\nexport default CustomClientOptions;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport utc from 'dayjs/plugin/utc';\nimport dayjs from 'dayjs';\nimport { toastr } from 'react-redux-toastr';\nimport { Row, Col, Button, Modal } from 'react-bootstrap';\nimport { Clients } from '../../redux/actions/clientActions';\nimport { Form } from '@unform/web';\nimport { DatePicker, TextArea, Select } from '../../components/common/Form';\nimport * as Yup from 'yup';\nimport { consults } from '../../redux/actions/consultActions';\nimport { Procedures } from '../../redux/actions/procedureActions';\nimport { MdNoteAdd } from 'react-icons/md';\nimport CustomClientOptions from '../../components/common/Form/CustomClientOptions';\nimport axios from 'axios';\n\ndayjs.extend(utc);\n\nfunction AddConsult() {\n\tconst [show, setShow] = useState(false);\n\n\tconst { clients } = useSelector((state) => state.client);\n\n\tconst { procedures } = useSelector((state) => state.procedure);\n\n\tconst dispatch = useDispatch();\n\n\tconst formRef = useRef(null);\n\n\tuseEffect(() => {\n\t\tdispatch(Clients());\n\t\tdispatch(Procedures());\n\t}, [dispatch]);\n\n\tconst handleSubmit = async (data, { reset }) => {\n\t\ttry {\n\t\t\tconst schema = Yup.object().shape({\n\t\t\t\tdate: Yup.string().required('Informe a data da consulta'),\n\t\t\t\tclient: Yup.string().ensure().required('Informe o cliente'),\n\t\t\t\tprocedures: Yup.string().ensure().required('Informe os procedimentos'),\n\t\t\t\ttype_consult: Yup.string().ensure().required('Informe o tipo de consulta'),\n\t\t\t});\n\t\t\tawait schema.validate(data, { abortEarly: false });\n\t\t\tconst sendData = {\n\t\t\t\tdate: dayjs(data.date).format('YYYY-MM-DDTHH:mm:ss.sssZ'),\n\t\t\t\tclient: data.client.value,\n\t\t\t\tprocedures: data.procedures.map((procedure) => procedure.value),\n\t\t\t\ttype_consult: data.type_consult,\n\t\t\t\tobservations: data.observations,\n\t\t\t\tstatus: { value: '0', label: 'Marcada' },\n\t\t\t};\n\t\t\ttry {\n\t\t\t\tconst response = await axios.post('/consults', sendData);\n\t\t\t\tif (response.status === 201) {\n\t\t\t\t\tdispatch(consults({ start: dayjs(Date.now()).format('YYYY-MM-DDTHH:mm:ss.sssZ') }));\n\t\t\t\t\tformRef.current.setErrors({});\n\t\t\t\t\tformRef.current.reset();\n\t\t\t\t\tsetShow(false);\n\t\t\t\t\ttoastr.success('Consulta marcada com sucesso');\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconst errorMessages = {};\n\t\t\t\tconst { data } = error.response;\n\t\t\t\terrorMessages[data.path] = data.message;\n\t\t\t\tformRef.current.setErrors(errorMessages);\n\t\t\t\ttoastr.error('Já existe uma consulta marcada para este horario');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (error instanceof Yup.ValidationError) {\n\t\t\t\tconst errorMessages = {};\n\t\t\t\terror.inner.forEach((erro) => {\n\t\t\t\t\terrorMessages[erro.path] = erro.message;\n\t\t\t\t\tformRef.current.setErrors(errorMessages);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tconst clientInputChange = (input) => {\n\t\tif (input.length >= 3) {\n\t\t\tdispatch(Clients({ name: input }));\n\t\t}\n\t\tif (input.length === 0) {\n\t\t\tdispatch(Clients());\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Button className=\"btn btn-primary text-white my-4\" onClick={() => setShow(true)}>\n\t\t\t\t<MdNoteAdd /> Consulta\n\t\t\t</Button>\n\n\t\t\t<Modal size=\"lg\" show={show} onHide={() => setShow(false)}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>Criar consulta</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form ref={formRef} onSubmit={handleSubmit}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tplaceholderText=\"Data/hora\"\n\t\t\t\t\t\t\t\t\tname=\"date\"\n\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy HH:mm\"\n\t\t\t\t\t\t\t\t\tminDate={new Date()}\n\t\t\t\t\t\t\t\t\tshowTimeSelect={true}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tlabel=\"Cliente\"\n\t\t\t\t\t\t\t\t\tname=\"client\"\n\t\t\t\t\t\t\t\t\toptions={clients.options}\n\t\t\t\t\t\t\t\t\tonInputChange={(input) => clientInputChange(input)}\n\t\t\t\t\t\t\t\t\tcomponents={{ Option: CustomClientOptions }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t\t<Select label=\"Procedimentos\" isMulti name=\"procedures\" options={procedures.options} />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={3}>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tlabel=\"Tipo consulta\"\n\t\t\t\t\t\t\t\t\tname=\"type_consult\"\n\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t{ label: 'Agendada', value: 0 },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Retorno', value: 1 },\n\t\t\t\t\t\t\t\t\t\t{ label: 'Urgência', value: 2 },\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={12}>\n\t\t\t\t\t\t\t\t<TextArea rows={10} col={15} label=\"Observações\" name=\"observations\" />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={12} className=\"text-right\">\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">\n\t\t\t\t\t\t\t\t\tSalvar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button variant=\"danger\" onClick={() => setShow(false)}>\n\t\t\t\t\t\t\t\t\tCancelar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t</>\n\t);\n}\n\nexport default AddConsult;\n","import React, { useEffect } from 'react';\nimport { Col, Row, Container, Button } from 'react-bootstrap';\nimport Table from '../Consult/Table';\nimport AddConsult from '../Consult/AddConsult';\nimport { BsPersonFill } from 'react-icons/bs';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { consults } from '../../redux/actions/consultActions';\nimport dayjs from 'dayjs';\n\nconst Dashboard = () => {\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(consults({ start: dayjs(Date.now()).format('YYYY-MM-DDTHH:mm:ss.sssZ') }));\n\t});\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row>\n\t\t\t\t<Col className=\"text-center my-4\">\n\t\t\t\t\t<h4 className=\"title\">Minhas Consultas</h4>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col className=\"text-right\">\n\t\t\t\t\t<Button as={Link} variant=\"info\" className=\"mr-2\" to=\"/inicio/clientes\">\n\t\t\t\t\t\t<BsPersonFill size={20} />\n\t\t\t\t\t\tCliente\n\t\t\t\t\t</Button>\n\t\t\t\t\t<AddConsult />\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<Table />\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n};\n\nexport default Dashboard;\n"],"sourceRoot":""}